MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001         Processor 16F914
                      00002 
                      00003 #include P16F914.inc   
                      00001         LIST
                      00002 ; P16F914.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
                      00842         LIST
                      00004 ;******************************************************************
                      00005 ; History
                      00006 ;******************************************************************
                      00007 ; Version 1.00  21.09.2005 Ga
                      00008 
                      00009 
                      00010 ;******************************************************************
                      00011 ; Definitions
                      00012 ;******************************************************************
                      00013 ;
                      00014 
                      00015 ;------------------------------------------------------------------
                      00016 ; Register Definitions
                      00017 ;
  00000020            00018 W_TEMP          equ     0x20 ; Stack für W-register im Interrupt
  00000021            00019 PCLATH_TEMP     equ     0x21 ; Stack für PLATH-Register
                      00020 
  00000022            00021 TIM1_10MS       equ 0x22
  00000023            00022 TIM2_10MS       equ     0x23
                      00023 
  00000024            00024 AD0                             equ     0x24    ; Bit 7 bei Wechsel = AD1                               
                            equ     0x2a    ; Bit 7 bei Wechsel = 1
  00000025            00025 AD1                             equ     0x25    ; Bit 7 bei Wechsel = AD1                               
                            equ     0x2a    ; Bit 7 bei Wechsel = 1
  00000026            00026 AD2                             equ     0x26    ; Bit 7 bei Wechsel = AD1                               
                            equ     0x2a    ; Bit 7 bei Wechsel = 1
                      00027 
                      00028 
  00000028            00029 TASTE_AKT               equ     0x28    ; aktuell gedrückte Taste, Bit 7 = 1 wenn 
                      00030                                                         ; Drücken entdeckt, bei Repeat Bit 6=1
  00000029            00031 TASTE_LAST              equ     0x29    ; zuletzt gedrückte Taste
  0000002A            00032 TASTE_IDX               equ     0x2a    ; Wert, der 10%, 30%, 40% usw in eine Zahl 0,1,2 usw wandelt
                      00033                                                         ; wird von TAST_DISPATCH beschrieben
                      00034 
                      00035 
  0000002E            00036 TEMP                    equ 0x2e        ; temporäre Speicherplatz, nur in einem
                      00037                                         ; call geschützt
                      00038 
  0000002F            00039 TEMP1                   equ 0x2f
  00000030            00040 TEMP2                   equ 0x30
                      00041 
  00000030            00042 DISP_CNT                equ     0x30    ; enthält die ANzahl auf Disp zu schreibende Zeichen
  00000031            00043 DISP_Z_FLAG             equ     0x31    ; Bit0-> Zeile 1
                      00044                                                         ; Bit1-> Zeile 2 usw.
  00000032            00045 DISP_STAT               equ     0x32    ; Bit3-> DisplayAusgabe steht an
                      00046                                                         ; Bit6-> Anzeige On/Off 
  0000003B            00047 TEMP3                   equ     0x3b
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000003C            00048 TEMP4                   equ     0x3c
  0000003D            00049 TEMP5                   equ     0x3d
  0000003F            00050 AD_STATUS               equ 0x3f        ; Bit 0-2 --> Neuer AD-Wert Kanal 0-2
                      00051 
                      00052 
  00000040            00053 ACC1_0                  equ     0x40    ;Rechenregister
  00000041            00054 ACC1_H                  equ     0x41    ;Rechenregister
  00000042            00055 ACC1_L                  equ     0x42
                      00056 
  00000043            00057 ACC2_0                  equ     0x43    ;Rechenregister
  00000044            00058 ACC2_H                  equ     0x44
  00000045            00059 ACC2_L                  equ     0x45
                      00060 
  00000046            00061 TEMPFLAG                equ     0x46    ; Temporäres Bitregister
                      00062 
  00000047            00063 DELAY                   equ     0x47
                      00064 
  00000049            00065 HEX_AKT                 equ     0x49    ; Bit 0-3-> aktuelle Hex-Schalter Stellung
  0000004A            00066 HEX_LAST                equ     0x4A    ; Bit 7=1-> Schalterstellung geändert
                      00067 
  00000050            00068 DISP_BUFF               equ     0x50    ; Display Buffer, 16 chars!!
                      00069 
  00000060            00070 ITOA_BUFF               equ     0x60    ; Achtung!! 6 Bytes lang!!!!
                      00071 
  00000066            00072 PORT_TASTOUT            equ     0x66    ; Tastatur/LED-Port Out
  00000067            00073 PORT_TASTIN             equ     0x67    ; Tastatur/Hex-Schalter IN
                      00074 
  0000007F            00075 STATUS_TEMP             equ     0x7f ; stack für STATUS im Interrupt
                      00076 
                      00077 ;16F914-Configs---------------------------------------------------------------------
                      00078 ;       __IDLOCS        H'3012' ;       User ID
                      00079 ;-----------------------------------------------------------------------------------
                      00080 ;16F914 ************************************************************************
2007   20E2           00081         __CONFIG  B'10000011100010'             ;zum debuggen
                      00082 ;       __CONFIG  B'11000000100010'             
                      00083 ;                   ||||||||||||||
                      00084 ;                   |||||||||||+++---FOSC 111=RC R+C an RA5, RA4=CLKOUT
                      00085 ;                   |||||||||||+++---FOSC 110=RC R+C an RA5
                      00086 ;                   |||||||||||+++---FOSC 101=INTOSC RA4=CLKOUT
                      00087 ;                   |||||||||||+++---FOSC 100=INTOSC RA4, RA5 = I/O
                      00088 ;                   |||||||||||+++---FOSC 011=EC
                      00089 ;                   |||||||||||+++---FOSC 010=HS
                      00090 ;                   |||||||||||+++---FOSC 001=XT
                      00091 ;                   |||||||||||+++---FOSC 000=LP
                      00092 ;                   |||||||||||     
                      00093 ;                   ||||||||||+------WDTE 0=disa 1=ena
                      00094 ;                   |||||||||+-------PWRT 0=ena  1=disa
                      00095 ;                   ||||||||+--------MCLR 0=din  1=ena
                      00096 ;                   |||||||+---------CP  ROM 0=CPena 1=CPdis
                      00097 ;                   ||||||+----------CPD RAM 0=CPena 1=CPdis
                      00098 ;                   ||||++-----------BOR 00=BOR disabled
                      00099 ;                   ||||++-----------BOR 01=BOR controlled by SBOREN
                      00100 ;                   ||||++-----------BOR 10=BOR enabled: operation dis.: sleep
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00101 ;                   ||||++-----------BOR 11=BOR enabled
                      00102 ;                   |||+-------------IESO 0=dis   1=ena
                      00103 ;                   ||+--------------FCMEN 0=dis  1=ena
                      00104 ;                   |+---------------DEBUG 0=ena  1=dis
                      00105 ;
                      00106 ;***************************************************************
                      00107 ;
                      00108         IFNDEF __16F914
                      00109            MESSG "Eingestellter Prozessor ist nicht 16F914 - Überprüfe Einstellungen"
                      00110         ENDIF
                      00111 ;=============================================================================================
                      00112 ; PROGRAMM
                      00113 ;=============================================================================================
0000                  00114         org     000
                      00115 ;RST CODE 0x0
0000   018A           00116         clrf PCLATH
                      00117 
0001   2828           00118         goto    start
                      00119 
                      00120 ;=============================================================================================
                      00121 ; ISR
                      00122 ;=============================================================================================
                      00123 
                      00124 ;=============================================================================================
                      00125 ;IV CODE 0x4
0004                  00126         org     004
0004   2808           00127         goto    Interrupt               
                      00128 
                      00129 ; ****************************************************************************
                      00130 
                      00131 ;TAB CODE 0x8
0008                  00132         org     008
                      00133 
0008                  00134 Interrupt
                      00135 
0008   00A0           00136         movwf   W_TEMP          ; Accu sichern
0009   0E03           00137         swapf   STATUS,W        ; Status nach Accu laden
000A   0183           00138         clrf    STATUS          ; nach Bank 0 umschalten
000B   00FF           00139         movwf   STATUS_TEMP     ; Status im Temp-Register ablegen
                      00140 
000C   080A           00141         movfw   PCLATH
000D   00A1           00142         movwf   PCLATH_TEMP
000E   018A           00143         clrf    PCLATH
                      00144 
000F   188C           00145         btfsc   PIR1, TMR2IF
0010   2817           00146         goto    Timer2Int
0011   180C           00147         btfsc   PIR1, TMR1IF
0012   2814           00148         goto    Timer1Int
0013   2821           00149         goto    EndInt
                      00150 
                      00151 ;---------------------------------------        
0014                  00152 Timer1Int                       ; PWM-Timer
                      00153 
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00154 
0014                  00155 EndTimer1Int
0014   100C           00156         bcf             PIR1, TMR1IF
0015   1410           00157         bsf             T1CON,  TMR1ON
0016   2821           00158         goto    EndInt
                      00159 ;----------------------------------------
0017                  00160 Timer2Int                       ; 10msec-Timer
0017   1407           00161         bsf     PORTC,0
0018   108C           00162         bcf             PIR1,TMR2IF
0019   08A2           00163         movf    TIM1_10MS,F             ; TEst auf 0
001A   1D03           00164         btfss   STATUS,Z
001B   03A2           00165         decf    TIM1_10MS,F
                      00166 
001C   08A3           00167         movf    TIM2_10MS,F             ; TEst auf 0
001D   1D03           00168         btfss   STATUS,Z
001E   03A3           00169         decf    TIM2_10MS,F
001F   1007           00170         bcf     PORTC,0
                      00171 
                      00172         
                      00173         
0020   2821           00174         goto    EndInt  
                      00175 ;----------------------------------------
0021                  00176 EndInt
                      00177 
0021   0821           00178         movfw   PCLATH_TEMP
0022   008A           00179         movwf   PCLATH
0023   0E7F           00180         swapf   STATUS_TEMP,W
0024   0083           00181         movwf   STATUS
0025   0EA0           00182         swapf   W_TEMP,F
0026   0E20           00183         swapf   W_TEMP,W        
                      00184 
0027   0009           00185         retfie
                      00186 
                      00187 
                      00188 
                      00189 
                      00190 ;==================================================
                      00191 ;INIT CODE 
                      00192 ;==================================================
                      00193 
0028                  00194 start
                      00195 
                      00196 
0028   0064           00197         clrwdt
0029   0000           00198         nop
                      00199 
                      00200 ;====== Register 20H bis 7FH löschen ======
                      00201 
002A   3020           00202         movlw   20      ; beginne bei Register 20H
002B   0084           00203         movwf   04      ; FSR
                      00204 
002C                  00205 loop_1
002C   0180           00206         clrf    0
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

002D   0A84           00207         incf    04,1
002E   1F84           00208         btfss   04,7    ; wenn REGISTER 80H erreicht
002F   282C           00209         goto loop_1
                      00210 
0030   0064           00211         clrwdt
0031   0000           00212         nop
                      00213 
                      00214 ;======= Timer 2 INIT ========
                      00215 
0032   304E           00216         movlw   b'1001110'      ; T2on, Prescale 16, Postscale 10
0033   0092           00217         movwf   T2CON
0034   1683           00218         bsf     STATUS,RP0                      ; Bank 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0035   148C           00219         bsf     PIE1, TMR2IE    ; Timer 2 Interrupt enable
0036   30FA           00220         movlw   d'250'                  ; 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0037   0092           00221         movwf   PR2
0038   1283           00222         bcf             STATUS,RP0                      ; Bank 1
                      00223 
                      00224 
                      00225 ;======== Timer 1 INIT =========
0039   1283           00226         bcf             3,5
003A   3021           00227         movlw   b'100001'
003B   0090           00228         movwf   T1CON
                      00229 
                      00230         
003C   1683           00231         bsf             3,5
                      00232 ;       bsf             PIE1, TMR1IE
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003D   100C           00233         bcf             PIE1, TMR1IE
                      00234 
                      00235 ;======= Port A init =============
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003E   1205           00236         bcf             TRISA,4         ; D0 für Display
                      00237 
                      00238 ;======= Port D init =============
                      00239 
                      00240 ;       movlw   b'000000000'    ; Alles Ausgänge
003F   30F8           00241         movlw   b'11111000'             ; Bit 0-2 = Controlbits für Display
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0040   0088           00242         movwf   TRISD
                      00243 
                      00244 ;======== Port B init ============
                      00245 
                      00246 ;       movlw   b'11000110'             ; Tastatur Scanner
0041   30C0           00247         movlw   b'11000000'             ; Bit 0-5 = D2-7 für Display
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   0086           00248         movwf   TRISB
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0043   1781           00249         bsf             OPTION_REG, 7   ; Pull-Ups für PORT B einschalten
                      00250 
                      00251 ;======== Port C init ============
                      00252 
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00253 ;       movlw   b'00111000'             ; Daten CS-Generator '138 (Bit 0-2)
                      00254                                         ; PWM-IN (Bit 3-5)
0044   30EE           00255         movlw   b'11101110'     ; Alles Eingänge
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0045   0087           00256         movwf   TRISC
0046   1283           00257         BCF     STATUS,RP0      ;Bank 2
0047   1703           00258         BSF     STATUS,RP1      ;
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0048   0187           00259         CLRF    LCDCON          ;Disable VLCD<3:1>
0049   1683           00260         BSF     STATUS,RP0      ;Bank 0
004A   1303           00261         BCF     STATUS,RP1
                      00262 ;======== Port E init ============
                      00263 
                      00264 ;       movlw   b'00000000'             ; Daten für Display
004B   30FB           00265         movlw   b'11111011'             ; Bit 2 = D1 für Display
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004C   0089           00266         movwf   TRISE
                      00267 
                      00268 
                      00269 ;======== Serial Port Init ============
                      00270 
004D   3033           00271         movlw   d'51'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004E   0099           00272         movwf   SPBRG                   ; Serial Port Baudrategenerator (Wert aus Tabelle = 19200 Baud)
                      00273 
                      00274 
004F   3065           00275         movlw   b'01100101'             ; 8Bit-Transm., TxEnable, Asynch.Mode, High Baudrate
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0050   0098           00276         movwf   TXSTA                   ; TRANSMIT STATUS AND CONTROL REGISTER 
                      00277 
0051   1283           00278         bcf             3,5
0052   3080           00279         movlw   b'10000000'             ; SerialPort Enable
0053   0098           00280         movwf   RCSTA                   ; ;RCSTA: RECEIVE STATUS AND CONTROL REGISTER
                      00281 
                      00282 ;=========  A/D-Wandler INIT =====
                      00283 
0054   1683           00284         bsf             3,5
                      00285 
0055   300F           00286         movlw   b'00001111'             ; Kanal AN0-3 sind benutzt
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0056   0091           00287         movwf   ANSEL
                      00288 
0057   3060           00289         movlw   b'01100000'             ; Fosc /64
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0058   009F           00290         movwf   ADCON1
                      00291         
                      00292 
0059   1283           00293         bcf             3,5
005A   1303           00294         bcf             3,6
                      00295 
005B   3001           00296         movlw   b'00000001'             ; Left justified, VREF=Versorgung, ADON
005C   009F           00297         movwf   ADCON0
                      00298 
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

005D   170B           00299         bsf             INTCON, PEIE
005E   178B           00300         bsf             INTCON, GIE
                      00301 
005F   01BF           00302         clrf    AD_STATUS       ; = kein neuer AD-Wert da
                      00303 
0060   3004           00304         movlw   0x4
0061   00AA           00305         movwf   TASTE_IDX
0062   3005           00306         movlw   0x5
0063   00A9           00307         movwf   TASTE_LAST
                      00308 
0064   01A4           00309         clrf    AD0
0065   01A5           00310         clrf    AD1
0066   1607           00311         bsf     PORTC,4         ; Data Enable für RS485-Transceiver
                      00312         
0067   2306           00313         call    display_init
0068   01B2           00314         clrf    DISP_STAT
0069   1732           00315         bsf     DISP_STAT,6             ; Display on
006A   22C5           00316         call    display
                      00317 
006B   301E           00318         movlw   d'30'
006C   00A3           00319         movwf   TIM2_10MS
                      00320 
006D                  00321 DispInitLoop    
006D   08A3           00322         movf    TIM2_10MS,F
006E   1D03           00323         btfss   STATUS,Z
006F   286D           00324         goto    DispInitLoop    
                      00325 
0070   207E           00326         call    DispVersion
0071   30C8           00327         movlw   d'200'
0072   00A3           00328         movwf   TIM2_10MS
                      00329         
0073                  00330 VersLoop
0073   08A3           00331         movf    TIM2_10MS,F
0074   1D03           00332         btfss   STATUS,Z
0075   2873           00333         goto    VersLoop
                      00334 
                      00335 ;==========MainLoop
                      00336 
0076                  00337 main
                      00338 ;       call    HexScan                         ; HEx-Schalter nach HEX_AKT einlesen
                      00339 ;       call    TastScan                        ; Tastatur-Sac, Wert nach TASTE_AKT
0076   229A           00340         call    ADconv                          ; AD.Wandlung beider Kanäle, Wert nach AD0 und AD1
                      00341 ;       call    TastDispatch_Hex0               ; wenn Taste gedrückt, Tasten-Aktionen einleiten Hex-Sch
                            alterstellung 0
                      00342 ;       call    TastDispatch_Hex1               ; wenn Taste gedrückt, Tasten-Aktionen einleiten
                      00343 ;       call    display
0077   2110           00344         call    AdDispatch                      ; Wenn sich einer der D-Wert geändert hat
                      00345 
0078   3002           00346         movlw   #2
0079   00A2           00347         movwf   TIM1_10MS
                      00348 
007A                  00349 MainWaitLoop    
007A   08A2           00350         movf    TIM1_10MS,F
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

007B   1D03           00351         btfss   STATUS,Z
007C   287A           00352         goto    MainWaitLoop
                      00353 
                      00354 
007D   2876           00355         goto    main
                      00356 
                      00357 
                      00358 ;===================================================
                      00359 ; DispVersion
                      00360 ;===================================================
007E                  00361 DispVersion
007E   01AE           00362         clrf    TEMP                    ; als ByteCount
007F   3050           00363         movlw   DISP_BUFF
0080   0084           00364         movwf   FSR                     ; 4
0081                  00365 DispVersion_1
0081   3007           00366         movlw   HIGH VersionData
0082   008A           00367         movwf   PCLATH
0083   082E           00368         movfw   TEMP
0084   2722           00369         call    VersionData
0085   018A           00370         clrf    PCLATH
0086   0080           00371         movwf   INDF
0087   0A84           00372         incf    FSR,F
0088   0AAE           00373         incf    TEMP,F
0089   1E2E           00374         btfss   TEMP,4
008A   2881           00375         goto    DispVersion_1
                      00376 
008B   1431           00377         bsf     DISP_Z_FLAG,0
008C   22C5           00378         call    display
                      00379 
008D   0008           00380         return
                      00381 
                      00382 ;===================================================
                      00383 ; DispMainParam
                      00384 ;===================================================
008E                  00385 DispMainParam
008E   01AE           00386         clrf    TEMP                    ; als ByteCount
008F   3050           00387         movlw   DISP_BUFF
0090   0084           00388         movwf   FSR                     ; 4
0091                  00389 DispMainParam_1
0091   3007           00390         movlw   HIGH MainParamData
0092   008A           00391         movwf   PCLATH
0093   082E           00392         movfw   TEMP
0094   2733           00393         call    MainParamData
0095   018A           00394         clrf    PCLATH
0096   0080           00395         movwf   INDF
0097   0A84           00396         incf    FSR,F
0098   0AAE           00397         incf    TEMP,F
0099   1E2E           00398         btfss   TEMP,4
009A   2891           00399         goto    DispMainParam_1
                      00400 
009B   0824           00401         movfw   AD0
009C   00AE           00402         movwf   TEMP
009D   3051           00403         movlw   DISP_BUFF+1
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

009E   0084           00404         movwf   FSR
009F   21A7           00405         call    sutoa
                      00406 
00A0   0825           00407         movfw   AD1
00A1   00AE           00408         movwf   TEMP
00A2   3056           00409         movlw   DISP_BUFF+6
00A3   0084           00410         movwf   FSR
00A4   21A7           00411         call    sutoa
                      00412 
00A5   0826           00413         movfw   AD2
00A6   00AE           00414         movwf   TEMP
00A7   305B           00415         movlw   DISP_BUFF+d'11'
00A8   0084           00416         movwf   FSR
00A9   21A7           00417         call    sutoa
                      00418 
                      00419 
00AA   1431           00420         bsf     DISP_Z_FLAG,0
00AB   22C5           00421         call    display
                      00422 
00AC   0008           00423         return
                      00424 
                      00425 ;----------------------------------------
00AD                  00426 wait_3ms
00AD   20B0           00427         call    wait_750us
00AE                  00428 wait_22zms
00AE   20B0           00429         call    wait_750us
                      00430 
00AF                  00431 wait_15zms
00AF   20B0           00432         call    wait_750us
00B0                  00433 wait_750us
00B0   1010           00434         bcf     T1CON,0         ; Timer1 stoppen        
00B1   018E           00435         clrf    TMR1L           ; TMR1L                 
00B2   018F           00436         clrf    TMR1H           ; TMR1H                 
00B3   1410           00437         bsf     T1CON,0         ; Timer1 starten        
00B4   3003           00438         movlw   d'3'
00B5   020F           00439         subwf   TMR1H,0
00B6   1D03           00440         btfss   STATUS,2        ; 
00B7   28B5           00441         goto    $-2             ; auf Bit warten        
00B8   0008           00442         return                  ; mit Aufruf            
                      00443 
                      00444 
                      00445 
                      00446 ;===================================================
                      00447 ; V24Send
                      00448 ; Gibt WREG an TX-Buffer aus und wartet 3ms
                      00449 ;===================================================
                      00450 
00B9                  00451 V24Send
00B9   1683           00452         bsf     3,5
00BA                  00453 WaitTxBufferleer
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00BA   1C98           00454         btfss   TXSTA,TRMT
00BB   28BA           00455         goto    WaitTxBufferleer
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BC   1283           00456         bcf     3,5
00BD   0099           00457         movwf   TXREG
                      00458 
00BE   0008           00459         return
                      00460 
                      00461 ;===================================================
                      00462 ; MoveToDispBuff
                      00463 ; Verschiebt ab Adresse in WREG 16 Bytes nach DispBuff
                      00464 ;===================================================
                      00465 
00BF                  00466 MoveToDispBuff
00BF   00AE           00467         movwf   TEMP            ; LeseAdresse
00C0   3050           00468         movlw   DISP_BUFF
00C1   00AF           00469         movwf   TEMP1           ; Schreibadresse
00C2   3010           00470         movlw   0x10            ; Zähler
00C3   00B0           00471         movwf   TEMP2
                      00472 
00C4                  00473 MoveToDispBuff1
                      00474 
00C4   082E           00475         movfw   TEMP            ; Lese-Adresse
00C5   0084           00476         movwf   FSR
00C6   1683           00477         bsf     STATUS,RP0
00C7   0800           00478         movfw   INDF
00C8   1283           00479         bcf     STATUS,RP0
00C9   00BB           00480         movwf   TEMP3           ; gelesenes Byte
00CA   20B9           00481         call    V24Send
00CB   0A84           00482         incf    FSR,F
00CC   0804           00483         movfw   FSR
00CD   00AE           00484         movwf   TEMP            ; Leseadresse speicher
00CE   082F           00485         movfw   TEMP1           ; Schreibadr.
00CF   0084           00486         movwf   FSR
00D0   083B           00487         movfw   TEMP3           ; gelesenes Byte
00D1   0080           00488         movwf   INDF
00D2   0A84           00489         incf    FSR,F
00D3   0804           00490         movfw   FSR             ; Schreibadr
00D4   00AF           00491         movwf   TEMP1   
                      00492 
00D5   0BB0           00493         decfsz  TEMP2,F
00D6   28C4           00494         goto    MoveToDispBuff1
                      00495 
00D7   0008           00496         return
                      00497 
                      00498 ;===================================================
                      00499 ; BinToHex8
                      00500 ; Wandelt 8 Bytes ab Adress (WREG) in ASCII HEX nach DISP_BUFF
                      00501 ;===================================================
                      00502 
00D8                  00503 BinToHex8
00D8   00AE           00504         movwf   TEMP            ; LeseAdresse
00D9   3050           00505         movlw   DISP_BUFF
00DA   00AF           00506         movwf   TEMP1           ; Schreibadresse
00DB   3008           00507         movlw   0x8             ; Zähler
00DC   00B0           00508         movwf   TEMP2
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00509 
00DD                  00510 BinToHex81
                      00511 
00DD   082E           00512         movfw   TEMP            ; Lese-Adresse
00DE   0084           00513         movwf   FSR
00DF   1683           00514         bsf     STATUS,RP0
00E0   0800           00515         movfw   INDF
00E1   1283           00516         bcf     STATUS,RP0
00E2   00BB           00517         movwf   TEMP3           ; gelesenes Byte
00E3   0A84           00518         incf    FSR,F
00E4   0804           00519         movfw   FSR
00E5   00AE           00520         movwf   TEMP            ; Leseadresse speicher
00E6   082F           00521         movfw   TEMP1           ; Schreibadr.
00E7   0084           00522         movwf   FSR
                      00523 
00E8   0E3B           00524         swapf   TEMP3,W         ; gelesenes Byte, High Nibble
00E9   390F           00525         andlw   0xf     
00EA   20F9           00526         call    BinToHex
00EB   20B9           00527         call    V24Send
                      00528 
00EC   0080           00529         movwf   INDF
00ED   0A84           00530         incf    FSR,F
                      00531 
00EE   083B           00532         movfw   TEMP3           ; gelesenes Byte Low Nibble
00EF   390F           00533         andlw   0xf     
00F0   20F9           00534         call    BinToHex
00F1   20B9           00535         call    V24Send
                      00536 
00F2   0080           00537         movwf   INDF
00F3   0A84           00538         incf    FSR,F
                      00539 
                      00540 
00F4   0804           00541         movfw   FSR             ; Schreibadr
00F5   00AF           00542         movwf   TEMP1   
                      00543 
00F6   0BB0           00544         decfsz  TEMP2,F
00F7   28DD           00545         goto    BinToHex81
                      00546 
00F8   0008           00547         return
                      00548 
                      00549 
                      00550 
00F9                  00551 BinToHex
00F9   00BC           00552         movwf   TEMP4
                      00553 
00FA   3007           00554         movlw   HIGH BinToHexTab
00FB   008A           00555         movwf   PCLATH
00FC   083C           00556         movfw   TEMP4
00FD   2711           00557         call    BinToHexTab
00FE   018A           00558         clrf    PCLATH
                      00559 
                      00560 
00FF   0008           00561         return
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00562 
                      00563 ;===================================================
                      00564 ; Zeigt den Text "Keine Funktion in Zeile 1 an
                      00565 ;===================================================
                      00566 
0100                  00567 DispKeineFunktion
                      00568 ; ZEile 1
0100   01AE           00569         clrf    TEMP                    ; als ByteCount
0101   3050           00570         movlw   DISP_BUFF
0102   0084           00571         movwf   FSR                     ; 4
0103                  00572 DispKeineFunktionLoop   
0103   3007           00573         movlw   HIGH DatenKeineFunktion
0104   008A           00574         movwf   PCLATH
0105   082E           00575         movfw   TEMP
                      00576 
0106   2700           00577         call    DatenKeineFunktion
0107   018A           00578         clrf    PCLATH
0108   0080           00579         movwf   INDF
0109   0A84           00580         incf    FSR,F
010A   0AAE           00581         incf    TEMP,F
010B   1E2E           00582         btfss   TEMP,4
010C   2903           00583         goto    DispKeineFunktionLoop
                      00584 
010D   1431           00585         bsf     DISP_Z_FLAG,0
010E   22C5           00586         call    display
010F   0008           00587         return
                      00588 
                      00589 
                      00590 
                      00591 ;===================================================
                      00592 ; AdDispatch
                      00593 ; ADconv (mainloop) signalisiert in AD0 und AD1 Bit 7 = 1,
                      00594 ; daß sich ein Wert verändert hat.
                      00595 ;===================================================
0110                  00596 AdDispatch
                      00597         
                      00598 ;--------  HEX-Drehschalters = 0 ? -------------
                      00599 
                      00600 ;       movfw   HEX_AKT
                      00601 ;       andlw   0xf
                      00602 ;       sublw   0
                      00603 ;       btfss   STATUS,Z
                      00604 ;       return
Message[305]: Using default destination of 1 (file).
0110   08BF           00605         movf    AD_STATUS
0111   1903           00606         btfsc   STATUS,Z
0112   0008           00607         return
                      00608 
0113   01BF           00609         clrf    AD_STATUS       
                      00610 
0114   2117           00611         call    SendNewColor
0115   208E           00612         call    DispMainParam
0116   0008           00613         return
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00614 
                      00615 ;===================================================
                      00616 ; SendNewColor gibt die neue Farbe an die Kachel aus
                      00617 ;===================================================
0117                  00618 SendNewColor
0117   30FF           00619         movlw   0xFF            ; Adresse Broadcast
0118   1683           00620         bsf     3,5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0119   1418           00621         bsf     TXSTA, TX9D     ; 9. Bit (= Adressabyte) setzen
011A   1283           00622         bcf     3,5
011B   20B9           00623         call    V24Send
                      00624 
011C   0824           00625         movfw   AD0             ; ROT-Wert
011D   1683           00626         bsf     3,5
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
011E   1018           00627         bcf     TXSTA, TX9D     ; 9. Bit (= Adressabyte) setzen
011F   1283           00628         bcf     3,5
0120   20B9           00629         call    V24Send
                      00630 
0121   0825           00631         movfw   AD1             ; Gruen-Wert
0122   20B9           00632         call    V24Send
                      00633 
0123   0826           00634         movfw   AD2             ; Gruen-Wert
0124   20B9           00635         call    V24Send
                      00636 
0125   01AE           00637         clrf    TEMP
                      00638         
0126   0824           00639         movfw   AD0
0127   212F           00640         call    ZeroCount
                      00641 
0128   0825           00642         movfw   AD1
0129   212F           00643         call    ZeroCount
                      00644 
012A   0826           00645         movfw   AD2
012B   212F           00646         call    ZeroCount
                      00647 
012C   082E           00648         movfw   TEMP
012D   20B9           00649         call    V24Send
                      00650 
012E   0008           00651         return
                      00652 
                      00653 ;----
012F                  00654 ZeroCount
012F   00AF           00655         movwf   TEMP1           ; Byte, in dem die Nullen gezählt werden
0130   3008           00656         movlw   #8
0131   00B0           00657         movwf   TEMP2           ;Schleifenzähler        
0132                  00658 ZeroCountLoop
Message[305]: Using default destination of 1 (file).
0132   0CAF           00659         rrf     TEMP1
0133   1C03           00660         btfss   STATUS,C
Message[305]: Using default destination of 1 (file).
0134   0AAE           00661         incf    TEMP            ; Zähler für die Nullen
                      00662 
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[305]: Using default destination of 1 (file).
0135   0BB0           00663         decfsz  TEMP2
0136   2932           00664         goto    ZeroCountLoop
0137   0008           00665         return
                      00666 
                      00667 ;===================================================
                      00668 ; TastDispatch_Hex0 für Drehschalter in STellung 0
                      00669 ;===================================================
0138                  00670 TastDispatch_Hex0
                      00671         
0138   1FA8           00672         btfss   TASTE_AKT,7             ; Flag "Neue Taste gedrückt"
0139   0008           00673         return
                      00674 
                      00675 ;--------  HEX-Drehschalters = 0 ? -------------
                      00676 
013A   0849           00677         movfw   HEX_AKT
013B   390F           00678         andlw   0xf
013C   3C00           00679         sublw   0
013D   1D03           00680         btfss   STATUS,Z
013E   0008           00681         return
                      00682 
013F   13A8           00683         bcf             TASTE_AKT,7
0140   0828           00684         movfw   TASTE_AKT
0141   390F           00685         andlw   0xf
0142   00AE           00686         movwf   TEMP            ; Akt.Taste wird zuletzt gedrückte Taste        
                      00687 
                      00688 
0143   08AE           00689         movf    TEMP,F          ; TEst auf Z, 
0144   1903           00690         btfsc   STATUS,Z                
0145   0008           00691         return          
                      00692 
0146   300A           00693         movlw   0xA
0147   022E           00694         subwf   TEMP,w
0148   1803           00695         btfsc   STATUS,C
0149   0008           00696         return
                      00697 
                      00698 ; Anzeige löschen, Zeile 2,3,4
014A   2335           00699         call    ClearDispBuff
014B   14B1           00700         bsf     DISP_Z_FLAG,1
014C   1531           00701         bsf     DISP_Z_FLAG,2
014D   15B1           00702         bsf     DISP_Z_FLAG,3
014E   22C5           00703         call    display
                      00704 
                      00705 
                      00706 
014F   082E           00707         movfw   TEMP                            ; gedrückte Taste
0150   00A9           00708         movwf   TASTE_LAST
0151   00AA           00709         movwf   TASTE_IDX
0152   03AA           00710         decf    TASTE_IDX,F                     ; index muß mit 0 beginnen
                      00711 
                      00712 
                      00713         
0153                  00714 NormalDispatchEnd
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00715 
0153   0008           00716         return
                      00717 
                      00718 
                      00719 
                      00720 
                      00721 ;===================================================
                      00722 ; AddAcc
                      00723 ; Addiert die 16Bit Accus ACC1 und ACC1 
                      00724 ; Ergebnis in ACC1
                      00725 ; ACC2 bleibt unverändert
                      00726 ; Caryy wird gesetzt
                      00727 ;===================================================
0154                  00728 AddAcc
                      00729 
0154   0845           00730         movfw   ACC2_L
0155   07C2           00731         addwf   ACC1_L,F
0156   1803           00732         btfsc   STATUS,C        
0157   0AC1           00733         incf    ACC1_H,F
                      00734         
0158   0844           00735         movfw   ACC2_H
0159   07C1           00736         addwf   ACC1_H,F
                      00737         
015A   0008           00738         return
                      00739 ;===================================================
                      00740 ; dAddAcc
                      00741 ; Addiert die 24Bit Accus ACC1 und ACC2 
                      00742 ; Ergebnis in ACC1
                      00743 ; ACC2 bleibt unverändert
                      00744 ; Caryy wird gesetzt
                      00745 ;===================================================
015B                  00746 dAddAcc
                      00747 
015B   0845           00748         movfw   ACC2_L
015C   07C2           00749         addwf   ACC1_L,F
015D   1C03           00750         btfss   STATUS,C
015E   2963           00751         goto    dAddAcc1        
015F   0AC1           00752         incf    ACC1_H,F
0160   08C1           00753         movf    ACC1_H,F                ; = 0?
0161   1903           00754         btfsc   STATUS,Z
0162   0AC0           00755         incf    ACC1_0,f        
                      00756         
0163                  00757 dAddAcc1
0163   0844           00758         movfw   ACC2_H
0164   07C1           00759         addwf   ACC1_H,F
0165   1803           00760         btfsc   STATUS,C        
0166   0AC0           00761         incf    ACC1_0,F
                      00762         
0167   0843           00763         movfw   ACC2_0
0168   07C0           00764         addwf   ACC1_0,F
                      00765         
0169   0008           00766         return
                      00767 ;===================================================
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00768 ; SubAcc
                      00769 ; Subtrahiert die 16Bit Accus ACC1 und ACC1 
                      00770 ; Ergebnis in ACC1
                      00771 ; ACC2 bleibt unverändert
                      00772 ;===================================================
016A                  00773 SubAcc
016A   10C6           00774         bcf     TEMPFLAG,1
016B   0845           00775         movfw   ACC2_L
016C   02C2           00776         subwf   ACC1_L,F
016D   1803           00777         btfsc   STATUS,C
016E   2973           00778         goto    SubAcc1 
016F   08C1           00779         movf    ACC1_H,F
0170   1903           00780         btfsc   STATUS,Z
0171   14C6           00781         bsf     TEMPFLAG,1
0172   03C1           00782         decf    ACC1_H,F
                      00783 
0173                  00784 SubAcc1
0173   0844           00785         movfw   ACC2_H
0174   02C1           00786         subwf   ACC1_H,F
                      00787         
0175   18C6           00788         btfsc   TEMPFLAG,1
0176   1003           00789         bcf     STATUS,C
                      00790         
0177   0008           00791         return
                      00792 
                      00793 ;===================================================
                      00794 ; dSubAcc
                      00795 ; Subtrahiert die 24Bit Accus ACC1 und ACC1 
                      00796 ; Ergebnis in ACC1
                      00797 ; ACC2 bleibt unverändert
                      00798 ;===================================================
0178                  00799 dSubAcc
0178   10C6           00800         bcf     TEMPFLAG,1
0179   0845           00801         movfw   ACC2_L
017A   02C2           00802         subwf   ACC1_L,F
017B   1803           00803         btfsc   STATUS,C
017C   2986           00804         goto    dSubAcc1        
017D   03C1           00805         decf    ACC1_H,F
017E   30FF           00806         movlw   0xff
017F   0241           00807         subwf   ACC1_H,W
0180   1D03           00808         btfss   STATUS,Z
0181   2986           00809         goto    dSubAcc1
0182   08C0           00810         movf    ACC1_0,F
0183   1903           00811         btfsc   STATUS,Z
0184   14C6           00812         bsf     TEMPFLAG,1
0185   03C0           00813         decf    ACC1_0,F
                      00814         
                      00815 
0186                  00816 dSubAcc1
0186   0844           00817         movfw   ACC2_H
0187   02C1           00818         subwf   ACC1_H,F
0188   1803           00819         btfsc   STATUS,C
0189   298E           00820         goto    dSubAcc2        
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

018A   08C0           00821         movf    ACC1_0,F
018B   1903           00822         btfsc   STATUS,Z
018C   14C6           00823         bsf     TEMPFLAG,1
018D   03C0           00824         decf    ACC1_0,F
                      00825 
                      00826 
                      00827 
018E                  00828 dSubAcc2
018E   0843           00829         movfw   ACC2_0
018F   02C0           00830         subwf   ACC1_0,F
                      00831         
0190   18C6           00832         btfsc   TEMPFLAG,1
0191   1003           00833         bcf     STATUS,C
                      00834         
0192   0008           00835         return
                      00836 
                      00837 
                      00838 ;===================================================
                      00839 ; AddAccRep
                      00840 ; Addiert die 16Bit Accus ACC1 und ACC1 n-mal
                      00841 ; n steht in TEMP, TEMP wird verändert
                      00842 ; Ergebnis in ACC1
                      00843 ; ACC2 bleibt unverändert
                      00844 ;===================================================
0193                  00845 AddAccRep
                      00846 
0193   08AE           00847         movf    TEMP,F
0194   1903           00848         btfsc   STATUS,Z
0195   299C           00849         goto    EndAccAdd
0196   0845           00850         movfw   ACC2_L
0197   07C2           00851         addwf   ACC1_L,F
0198   1803           00852         btfsc   STATUS,C        
0199   0AC1           00853         incf    ACC1_H,F
                      00854 
019A   03AE           00855         decf    TEMP,F
019B   2993           00856         goto    AddAccRep
019C                  00857 EndAccAdd
019C   0008           00858         return
                      00859 ;===================================================
                      00860 ; SubAccRep
                      00861 ; Subtrahiert die 16Bit Accus ACC1 und ACC1 n-mal (ACC1-ACC2)
                      00862 ; n steht in TEMP, TEMP wird verändert
                      00863 ; Ergebnis in ACC1
                      00864 ; ACC2 bleibt unverändert
                      00865 ;===================================================
019D                  00866 SubAccRep
019D   08AE           00867         movf    TEMP,F
019E   1903           00868         btfsc   STATUS,Z
019F   29A6           00869         goto    EndAccSub
01A0   0845           00870         movfw   ACC2_L
01A1   02C2           00871         subwf   ACC1_L,F
01A2   1C03           00872         btfss   STATUS,C        
01A3   03C1           00873         decf    ACC1_H,F
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00874 
01A4   03AE           00875         decf    TEMP,F
01A5   299D           00876         goto    SubAccRep
01A6                  00877 EndAccSub
01A6   0008           00878         return
                      00879 
                      00880 
                      00881 ;===================================================
                      00882 ; sutoa  (short unsigend to ASCII) wandelt 8bit unsigned nach ASCII
                      00883 ; Quelle ist in TEMP
                      00884 ; Ziel ist in FSR
                      00885 ; benutze Register: TEMP und TEMP1 
                      00886 ;===================================================
01A7                  00887 sutoa
01A7   082E           00888         movfw   TEMP
01A8   00AF           00889         movwf   TEMP1
01A9   3030           00890         movlw   0x30            ; ASCII 0
01AA   0080           00891         movwf   INDF
01AB   3064           00892         movlw   d'100'
01AC                  00893 sutoa1                                  ; Hunderter-Schleife
01AC   02AE           00894         subwf   TEMP,F
01AD   1C03           00895         btfss   STATUS,C
01AE   29B1           00896         goto    sutoa2
01AF   0A80           00897         incf    INDF,F
01B0   29AC           00898         goto    sutoa1
01B1                  00899 sutoa2                                  ; 
01B1   07AE           00900         addwf   TEMP,F          ; einmal zuviel subtrahiert
01B2   0A84           00901         incf    FSR,f                   ; nächste Stelle im Display-Ram
01B3   3030           00902         movlw   0x30            ; ASCII 0
01B4   0080           00903         movwf   INDF
01B5   300A           00904         movlw   d'10'
01B6                  00905 sutoa3                                  ; Zehner Schleife
01B6   02AE           00906         subwf   TEMP,F
01B7   1C03           00907         btfss   STATUS,C
01B8   29BB           00908         goto    sutoa4
01B9   0A80           00909         incf    INDF,F
01BA   29B6           00910         goto    sutoa3
01BB                  00911 sutoa4
01BB   07AE           00912         addwf   TEMP,F          ; einmal zuviel subtrahiert
01BC   3030           00913         movlw   0x30
01BD   072E           00914         addwf   TEMP,W
01BE   0A84           00915         incf    FSR,f
01BF   0080           00916         movwf   INDF
                      00917 
01C0   0008           00918         return
                      00919 
                      00920 ;===================================================
                      00921 ; lutoa  (long unsigend to ASCII) wandelt 16bit unsigned nach ASCII
                      00922 ; Quelle ist in ACC1 (wird überschrieben)
                      00923 ; Ziel ist in FSR
                      00924 ; benutze Register: ACC2 
                      00925 ;===================================================
01C1                  00926 lutoa
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01C1   0084           00927         movwf   FSR
01C2   3030           00928         movlw   0x30            ; ASCII 0
01C3   0080           00929         movwf   INDF
01C4   3027           00930         movlw   HIGH d'10000'
01C5   00C4           00931         movwf   ACC2_H
01C6   3010           00932         movlw   LOW d'10000'
01C7   00C5           00933         movwf   ACC2_L
                      00934 
01C8                  00935 lutoa1                                  ; 10000er-Schleife
01C8   216A           00936         call    SubAcc          ; 16Bit-Subtraktion
01C9   1C03           00937         btfss   STATUS,C
01CA   29CD           00938         goto    lutoa2
01CB   0A80           00939         incf    INDF,F
01CC   29C8           00940         goto    lutoa1
01CD                  00941 lutoa2                                  ; 
01CD   2154           00942         call    AddAcc          ; einmal zuviel subtrahiert
01CE                  00943 lutoa_sub
01CE   0A84           00944         incf    FSR,f                   ; nächste Stelle im Display-Ram
01CF   3030           00945         movlw   0x30            ; ASCII 0
01D0   0080           00946         movwf   INDF
01D1   3003           00947         movlw   HIGH d'1000'
01D2   00C4           00948         movwf   ACC2_H
01D3   30E8           00949         movlw   LOW d'1000'
01D4   00C5           00950         movwf   ACC2_L
                      00951 
01D5                  00952 lutoa3                                  ; Tausender Schleife
01D5   216A           00953         call    SubAcc
01D6   1C03           00954         btfss   STATUS,C
01D7   29DA           00955         goto    lutoa4
01D8   0A80           00956         incf    INDF,F
01D9   29D5           00957         goto    lutoa3
01DA                  00958 lutoa4
01DA   2154           00959         call    AddAcc          ; einmal zuviel subtrahiert
01DB   0A84           00960         incf    FSR,f                   ; nächste Stelle im Display-Ram
01DC   3030           00961         movlw   0x30            ; ASCII 0
01DD   0080           00962         movwf   INDF
01DE   3000           00963         movlw   HIGH d'100'
01DF   00C4           00964         movwf   ACC2_H
01E0   3064           00965         movlw   LOW d'100'
01E1   00C5           00966         movwf   ACC2_L
                      00967 
01E2                  00968 lutoa5                                  ; Hunderter Schleife
01E2   216A           00969         call    SubAcc
01E3   1C03           00970         btfss   STATUS,C
01E4   29E7           00971         goto    lutoa6
01E5   0A80           00972         incf    INDF,F
01E6   29E2           00973         goto    lutoa5
01E7                  00974 lutoa6
01E7   2154           00975         call    AddAcc          ; einmal zuviel subtrahiert
01E8   0A84           00976         incf    FSR,f                   ; nächste Stelle im Display-Ram
01E9   3030           00977         movlw   0x30            ; ASCII 0
01EA   0080           00978         movwf   INDF
01EB   3000           00979         movlw   HIGH d'10'
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

01EC   00C4           00980         movwf   ACC2_H
01ED   300A           00981         movlw   LOW d'10'
01EE   00C5           00982         movwf   ACC2_L
                      00983 
01EF                  00984 lutoa7                                  ; Zehner Schleife
01EF   216A           00985         call    SubAcc
01F0   1C03           00986         btfss   STATUS,C
01F1   29F4           00987         goto    lutoa8
01F2   0A80           00988         incf    INDF,F
01F3   29EF           00989         goto    lutoa7
                      00990 
01F4                  00991 lutoa8
                      00992 
01F4   2154           00993         call    AddAcc          ; einmal zuviel subtrahiert
01F5   3030           00994         movlw   0x30
01F6   0742           00995         addwf   ACC1_L,W
01F7   0A84           00996         incf    FSR,f
01F8   0080           00997         movwf   INDF
                      00998 
01F9   0008           00999         return
                      01000 
                      01001 
                      01002 ;===================================================
                      01003 ; Dutoa  (long unsigend to ASCII) wandelt 16bit unsigned nach ASCII
                      01004 ; Quelle ist in ACC1 (wird überschrieben)
                      01005 ; Ziel ist in FSR
                      01006 ; benutze Register: ACC2 
                      01007 ;===================================================
01FA                  01008 dutoa
01FA   0084           01009         movwf   FSR
01FB   3030           01010         movlw   0x30            ; ASCII 0
01FC   0080           01011         movwf   INDF
01FD   3001           01012         movlw   0x1
01FE   00C3           01013         movwf   ACC2_0
01FF   3086           01014         movlw   0x86
0200   00C4           01015         movwf   ACC2_H
0201   30A0           01016         movlw   0xa0            ; 0x186A0 = 100.000
0202   00C5           01017         movwf   ACC2_L
                      01018 
0203                  01019 dutoa1                                  ; 100000er-Schleife
0203   2178           01020         call    dSubAcc         ; 16Bit-Subtraktion
0204   1C03           01021         btfss   STATUS,C
0205   2A08           01022         goto    dutoa2
0206   0A80           01023         incf    INDF,F
0207   2A03           01024         goto    dutoa1
0208                  01025 dutoa2                                  ; 
0208   215B           01026         call    dAddAcc         ; einmal zuviel subtrahiert
0209   0A84           01027         incf    FSR,f                   ; nächste Stelle im Display-Ram
                      01028 
                      01029 
                      01030 
020A   3030           01031         movlw   0x30            ; ASCII 0
020B   0080           01032         movwf   INDF
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

020C   01C3           01033         clrf    ACC2_0
020D   3027           01034         movlw   HIGH d'10000'
020E   00C4           01035         movwf   ACC2_H
020F   3010           01036         movlw   LOW d'10000'
0210   00C5           01037         movwf   ACC2_L
                      01038 
0211                  01039 dutoa3                                  ; 10000er-Schleife
0211   2178           01040         call    dSubAcc         ; 16Bit-Subtraktion
0212   1C03           01041         btfss   STATUS,C
0213   2A16           01042         goto    dutoa4
0214   0A80           01043         incf    INDF,F
0215   2A11           01044         goto    dutoa3
0216                  01045 dutoa4
0216   215B           01046         call    dAddAcc         ; einmal zuviel subtrahiert
                      01047 
0217   21CE           01048         call    lutoa_sub
                      01049 
                      01050 
                      01051 
0218   0008           01052         return
                      01053 
                      01054 
                      01055 
                      01056 ;===================================================
                      01057 ;  TAST-SCAN
                      01058 ;===================================================
                      01059 
0219                  01060 TastScan
0219   2232           01061         call    TastScan1
021A   082E           01062         movfw   TEMP                    ; Ergebnis 1. Scan... 
021B   00AF           01063         movwf   TEMP1                   ; ... zwischenspeichern
021C   3001           01064         movlw   1                               ; 30msec
021D   00A2           01065         movwf   TIM1_10MS
021E                  01066 TstScLoop
021E   178B           01067         bsf     INTCON,GIE
021F   08A2           01068         movf    TIM1_10MS,F
0220   1D03           01069         btfss   STATUS,Z
                      01070 
0221   2A1E           01071         goto    TstScLoop
                      01072 
0222   2232           01073         call    TastScan1
                      01074 
0223   082E           01075         movfw   TEMP
0224   022F           01076         subwf   TEMP1,W
0225   1D03           01077         btfss   STATUS,Z                ; Z= 2 identische Scans
0226   2A31           01078         goto    EndScan                 ; 2 Scans lieferten keine gleichen Ergebnisse
                      01079 
0227   0828           01080         movfw   TASTE_AKT
0228   390F           01081         andlw   0xf
0229   022E           01082         subwf   TEMP,W
022A   1D03           01083         btfss   STATUS,Z                ; Z=Alte Taste noch immer gedrückt-> Repeat
022B   2A2E           01084         goto    NeueTaste
022C                  01085 RepeatTaste
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 22


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

022C   1728           01086         bsf     TASTE_AKT,6
022D   2A31           01087         goto    EndScan
                      01088 
022E                  01089 NeueTaste
                      01090 
022E   082E           01091         movfw   TEMP
022F   00A8           01092         movwf   TASTE_AKT       
0230   17A8           01093         bsf     TASTE_AKT,7             ; = Flag "Taste gedrückt"
                      01094 
0231                  01095 EndScan
0231   0008           01096         return
                      01097 
                      01098 ;-------------------
0232                  01099 TastScan1               ; setzt nacheinander die drei Ausgänge
                      01100 
0232   300F           01101         movlw   0x0f
0233   04E6           01102         iorwf   PORT_TASTOUT,f          ; Alle Scan-Lines High
                      01103         
0234   3000           01104         movlw   0x0
0235   00AE           01105         movwf   TEMP
0236   1066           01106         bcf     PORT_TASTOUT,0          ; Bit0 für ScanOut auf L
0237   2262           01107         call    PortTastOut     
0238   2258           01108         call    CheckTastIn
0239   1D03           01109         btfss   STATUS,Z
023A   2A56           01110         goto    EndTast
                      01111         
023B   3003           01112         movlw   0x03
023C   00AE           01113         movwf   TEMP
023D   1466           01114         bsf     PORT_TASTOUT,0          ; Bit0 für ScanOut auf L
023E   10E6           01115         bcf     PORT_TASTOUT,1
023F   2262           01116         call    PortTastOut     
0240   2258           01117         call    CheckTastIn
0241   1D03           01118         btfss   STATUS,Z
0242   2A56           01119         goto    EndTast
                      01120 
0243   3006           01121         movlw   0x06
0244   00AE           01122         movwf   TEMP
0245   14E6           01123         bsf     PORT_TASTOUT,1          ; Bit0 für ScanOut auf L
0246   1166           01124         bcf     PORT_TASTOUT,2
0247   2262           01125         call    PortTastOut     
0248   2258           01126         call    CheckTastIn
0249   1D03           01127         btfss   STATUS,Z
024A   2A56           01128         goto    EndTast
                      01129 
024B   3009           01130         movlw   0x09
024C   00AE           01131         movwf   TEMP
024D   1566           01132         bsf     PORT_TASTOUT,2          ; Bit0 für ScanOut auf L
024E   11E6           01133         bcf     PORT_TASTOUT,3
024F   2262           01134         call    PortTastOut     
0250   2258           01135         call    CheckTastIn
0251   1D03           01136         btfss   STATUS,Z
0252   2A56           01137         goto    EndTast
                      01138 
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 23


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01139         
0253   3000           01140         movlw   0
0254   00AE           01141         movwf   TEMP
0255   00AF           01142         movwf   TEMP1
0256                  01143 EndTast
0256   07AE           01144         addwf   TEMP,F
0257   0008           01145         return
                      01146 
                      01147 ;-------------------
                      01148 
0258                  01149 CheckTastIn             ; prüft die 3 Eingänge
                      01150 
0258   2269           01151         call    PortTastIn
0259   3000           01152         movlw   0x00
025A   1D67           01153         btfss   PORT_TASTIN,2
025B   3001           01154         movlw   1
025C   1CE7           01155         btfss   PORT_TASTIN,1
025D   3002           01156         movlw   2
025E   1C67           01157         btfss   PORT_TASTIN,0
025F   3003           01158         movlw   3
0260   3800           01159         iorlw   0               ; Test WREG auf 0
0261   0008           01160         return  
                      01161 
                      01162 ;-----------------------
                      01163 
0262                  01164 PortTastOut
0262   0866           01165         movfw   PORT_TASTOUT
0263   0088           01166         movwf   PORTD
                      01167 
                      01168 ;- ChipSelect generieren --
                      01169 
0264   3006           01170         movlw   0x6                     ; CS6 aktiv
0265   0487           01171         iorwf   PORTC,F
                      01172 
0266   30F8           01173         movlw   0xf8                    ; CS6 inaktiv
0267   0587           01174         andwf   PORTC,F
                      01175 
                      01176 
0268   0008           01177         return
                      01178 
                      01179 ;-----------------------
                      01180 
0269                  01181 PortTastIn
0269   1683           01182         bsf             3,5
026A   30FF           01183         movlw   b'11111111'     ; Alles Eingänge
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
026B   0088           01184         movwf   TRISD
026C   1283           01185         bcf     3,5
026D   1303           01186         bcf     3,6
026E   3005           01187         movlw   0x5
026F   0487           01188         iorwf   PORTC,F         ; CS5 generieren
0270   0808           01189         movfw   PORTD
0271   00E7           01190         movwf   PORT_TASTIN
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 24


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01191 
0272   30F0           01192         movlw   0xf0            ; CS5 weg
0273   0587           01193         andwf   PORTC,F
                      01194 
0274   1683           01195         bsf             3,5
0275   3000           01196         movlw   b'00000000'     ; Alles Ausgänge
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0276   0088           01197         movwf   TRISD
0277   1283           01198         bcf     3,5
0278   1303           01199         bcf     3,6
                      01200 
0279   0008           01201         return
                      01202 ;===================================================
                      01203 ;  HexScan
                      01204 ;===================================================
                      01205 
027A                  01206 HexScan
027A   2269           01207         call    PortTastIn
027B   0E67           01208         swapf   PORT_TASTIN,W
027C   3A0F           01209         xorlw   0xf     ; wg. Invertierung durch Pull-Ups
027D   390F           01210         andlw   0xf
027E   00C9           01211         movwf   HEX_AKT 
027F   024A           01212         subwf   HEX_LAST,W
0280   1903           01213         btfsc   STATUS,Z
0281   0008           01214         return                          ; keine Änderung
0282   0849           01215         movfw   HEX_AKT
0283   00CA           01216         movwf   HEX_LAST        
                      01217 
                      01218 
0284   3000           01219         movlw   0x0
0285   0249           01220         subwf   HEX_AKT,w
0286   1D03           01221         btfss   STATUS,Z
0287   2A89           01222         goto    TestHex1
0288   0008           01223         return
                      01224 
0289                  01225 TestHex1
0289   3001           01226         movlw   0x1
028A   0249           01227         subwf   HEX_AKT,w
028B   1D03           01228         btfss   STATUS,Z
028C   2A8E           01229         goto    TestHex2
                      01230 ;       movlw   1
                      01231 ;       movwf   STEP_DATENLESEN
028D   0008           01232         return
028E                  01233 TestHex2
028E   3002           01234         movlw   0x2
028F   0249           01235         subwf   HEX_AKT,w
0290   1D03           01236         btfss   STATUS,Z
0291   2A93           01237         goto    TestHex3
                      01238 ;       movlw   1
                      01239 ;       movwf   STEP_DAUERBETRIEB
0292   0008           01240         return
0293                  01241 TestHex3        
                      01242 ;       call    DispKeineFunktion
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 25


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01243 
0293   0008           01244         return
                      01245 
                      01246 
                      01247 
                      01248 ;===================================================
                      01249 ;  Wait10ms
                      01250 ;  Übergabe: keine
                      01251 ; Unterprogramm kehrt nach 10msec zurück
                      01252 
0294                  01253 Wait10ms
0294   3001           01254         movlw   1
0295   00A2           01255         movwf   TIM1_10MS
0296                  01256 WaitLoop
0296   08A2           01257         movf    TIM1_10MS,F
0297   1D03           01258         btfss   STATUS,Z
0298   2A96           01259         goto    WaitLoop
0299   0008           01260         return
                      01261 
                      01262 
                      01263 ;===================================================
                      01264 
                      01265 ;===================================================
                      01266 ;  ADconv
                      01267 ;  Übergabe: keine
                      01268 ;  wandelt Kanal 1 und 2, 
                      01269 ;===================================================
029A                  01270 ADconv
                      01271 ;--------  HEX-Drehschalters = 0 ? -------------
                      01272 
                      01273 ;       movfw   HEX_AKT
                      01274 ;       andlw   0xf
                      01275 ;       sublw   0
                      01276 ;       btfss   STATUS,Z
                      01277 ;       return
                      01278 ; --- Kanal 0 -> ROT ----
                      01279 
029A   111F           01280         bcf     ADCON0, CHS0    
029B   119F           01281         bcf     ADCON0, CHS1    
029C   149F           01282         bsf     ADCON0, GO_DONE         ; Start
029D                  01283 ADLoop1
029D   189F           01284         btfsc   ADCON0, GO_DONE
029E   2A9D           01285         goto    ADLoop1
                      01286 
029F   081E           01287         movfw   ADRESH
02A0   00AE           01288         movwf   TEMP                    ; AD-Wert nach TEMP
                      01289 
02A1   0224           01290         subwf   AD0,W
02A2   1903           01291         btfsc   STATUS,Z
02A3   2AA7           01292         goto    WandleKanal_1
02A4   143F           01293         bsf             AD_STATUS,0                     ; Flag , neuer WERT da
02A5   082E           01294         movfw   TEMP
02A6   00A4           01295         movwf   AD0
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 26


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01296 
                      01297 ;----- Kanal 1 gruen -----
02A7                  01298 WandleKanal_1
02A7   151F           01299         bsf     ADCON0, CHS0            ; kanal 1->Grün, 
02A8   2341           01300         call    delay_ms1
                      01301 
02A9   149F           01302         bsf     ADCON0, GO_DONE         ; Start
02AA                  01303 ADLoop2
02AA   189F           01304         btfsc   ADCON0, GO_DONE
02AB   2AAA           01305         goto    ADLoop2
                      01306 
02AC   081E           01307         movfw   ADRESH
02AD   00AE           01308         movwf   TEMP                    
                      01309 
02AE   0225           01310         subwf   AD1,W
02AF   1903           01311         btfsc   STATUS,Z
02B0   2AB4           01312         goto    WandleKanal_2
02B1   14BF           01313         bsf             AD_STATUS,1                     ; Flag , neuer WERT da
02B2   082E           01314         movfw   TEMP
02B3   00A5           01315         movwf   AD1
                      01316 
                      01317 ;----- Kanal 2 blau -----
02B4                  01318 WandleKanal_2
02B4   111F           01319         bcf     ADCON0, CHS0            ; kanal 1->Grün, 
02B5   159F           01320         bsf     ADCON0, CHS1            ; kanal 1->Grün, 
02B6   2341           01321         call    delay_ms1
                      01322 
02B7   149F           01323         bsf     ADCON0, GO_DONE         ; Start
02B8                  01324 ADLoop3
02B8   189F           01325         btfsc   ADCON0, GO_DONE
02B9   2AB8           01326         goto    ADLoop3
                      01327 
02BA   081E           01328         movfw   ADRESH
02BB   00AE           01329         movwf   TEMP                    
                      01330 
02BC   0226           01331         subwf   AD2,W
02BD   1903           01332         btfsc   STATUS,Z
02BE   2AC2           01333         goto    EndAD
02BF   153F           01334         bsf             AD_STATUS,2                     ; Flag , neuer WERT da
02C0   082E           01335         movfw   TEMP
02C1   00A6           01336         movwf   AD2
                      01337 
                      01338 
02C2                  01339 EndAD
02C2   111F           01340         bcf             ADCON0, CHS0    
02C3   119F           01341         bcf             ADCON0, CHS1    
                      01342 
                      01343 
02C4   0008           01344         return
                      01345 
                      01346 
                      01347 
                      01348 
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 27


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01349 
                      01350 
                      01351 
                      01352 
                      01353 
                      01354 ;================ D I S P L A Y =================================
                      01355 
                      01356 ; ***************************************************************************
02C5                  01357 display
                      01358 ;       btfss   DISP_STAT,3             ; soll ausgegeben werden?
                      01359 ;       return
                      01360 
02C5   11B2           01361         bcf             DISP_STAT,3
02C6   1F32           01362         btfss   DISP_STAT,6             ; Anzeigen oder ausschalten
02C7   22FC           01363         call    display_on
                      01364 
                      01365 ; welche Zeile soll geschrieben werden?
                      01366 
02C8   1831           01367         btfsc   DISP_Z_FLAG,0           ; Zeile 1
02C9   22D1           01368         call    display_z1
02CA   18B1           01369         btfsc   DISP_Z_FLAG,1           ; Zeile 2
02CB   22D5           01370         call    display_z2
02CC   1931           01371         btfsc   DISP_Z_FLAG,2           ; Zeile 3
02CD   22D9           01372         call    display_z3
02CE   19B1           01373         btfsc   DISP_Z_FLAG,3           ; Zeile 4
02CF   22DD           01374         call    display_z4
02D0   0008           01375         return
                      01376 
02D1                  01377 display_z1
02D1   3080           01378         movlw   80              ; DD-Adresse im Display für Zeile 1
02D2   22E1           01379         call    display_zout
02D3   1031           01380         bcf             DISP_Z_FLAG,0
02D4   0008           01381         return
                      01382 
02D5                  01383 display_z2
02D5   30C0           01384         movlw   0xc0
02D6   22E1           01385         call    display_zout
02D7   10B1           01386         bcf             DISP_Z_FLAG,1
02D8   0008           01387         return
02D9                  01388 display_z3
02D9   3090           01389         movlw   90              ; DD-Adresse im Display für Zeile 3
02DA   22E1           01390         call    display_zout
02DB   1131           01391         bcf             DISP_Z_FLAG,2
02DC   0008           01392         return
02DD                  01393 display_z4
02DD   30D0           01394         movlw   0xd0            ; DD-Adresse im Display für Zeile 4
02DE   22E1           01395         call    display_zout
02DF   11B1           01396         bcf             DISP_Z_FLAG,3
02E0   0008           01397         return
                      01398 
                      01399 
                      01400 
                      01401 ; ***************************************************************************
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 28


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01402 ; ***************************************************************************
02E1                  01403 display_zout
                      01404 
                      01405 
02E1   1108           01406         bcf     PORTD,2         ; RS = 0
02E2   1008           01407         bcf     PORTD,0         ; R/W = 0
                      01408 
02E3   231B           01409         call    display_write
                      01410 
                      01411 ; hier 16 Bytes füllen
                      01412 
02E4   3010           01413         movlw   10              ; 16 Zeichen ausgeben
02E5   00B0           01414         movwf   DISP_CNT        
                      01415         
02E6   3050           01416         movlw   50                                      ; Zeilenbuffer im Ram
02E7   0084           01417         movwf   04                                      ;!Indir Addr
                      01418         
02E8                  01419 display_zout0                   ; Display-Zeile beschreiben
02E8   1508           01420         bsf     PORTD,2
02E9   1008           01421         bcf     PORTD,0
02EA   0800           01422         movf    0,0
02EB   231B           01423         call    display_write
02EC   0A84           01424         incf    04,1
02ED   0BB0           01425         decfsz  DISP_CNT,1
02EE   2AE8           01426         goto    display_zout0
02EF   0008           01427         return
                      01428 
02F0                  01429 display_off
02F0   22F7           01430         call    display_clr
02F1   233F           01431         call    delay_ms
02F2   3008           01432         movlw   b'00001000'     ; Display OFF
02F3   1108           01433         bcf     PORTD,2
02F4   1008           01434         bcf     PORTD,0
02F5   231B           01435         call    display_write
02F6   0008           01436         return
                      01437 
02F7                  01438 display_clr
02F7   3001           01439         movlw   b'00000001'     ; Clear Display
02F8   1108           01440         bcf     PORTD,2
02F9   1008           01441         bcf     PORTD,0
02FA   231B           01442         call    display_write
02FB   0008           01443         return
                      01444         
02FC                  01445 display_on
02FC   300C           01446         movlw   b'00001100'
02FD   1108           01447         bcf     PORTD,2
02FE   1008           01448         bcf     PORTD,0
02FF   231B           01449         call    display_write
0300   0008           01450         return
                      01451 
0301                  01452 display_CB
0301   300D           01453         movlw   b'00001101'     ; Cursor blinken lassen
0302   1108           01454         bcf             PORTD,2
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 29


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0303   1008           01455         bcf             PORTD,0
0304   231B           01456         call    display_write
0305   0008           01457         return
                      01458 
0306                  01459 display_init
0306   2294           01460         call    Wait10ms
0307   2294           01461         call    Wait10ms
                      01462 
0308   30F8           01463         movlw   b'11111000'     ; Bit 9.0..9.2 löschen
0309   0588           01464         andwf   PORTD,F
                      01465         
030A   303F           01466         movlw   3F
030B   231B           01467         call    display_write
                      01468 
030C   2294           01469         call    Wait10ms
                      01470 
030D   303F           01471         movlw   3F
030E   231B           01472         call    display_write
                      01473 
030F   233F           01474         call    delay_ms
                      01475 
0310   303F           01476         movlw   3F
0311   231B           01477         call    display_write
                      01478 
0312   3038           01479         movlw   b'00111000'     ; ab hier SET-Mode
0313   231B           01480         call    display_write
                      01481 
0314   300C           01482         movlw   b'00001100'     ; Display ON
0315   231B           01483         call    display_write
                      01484         
0316   3001           01485         movlw   b'00000001'     ; Display CLEAR
0317   231B           01486         call    display_write
                      01487 
0318   3006           01488         movlw   b'00000110'     ; ENTER Mode SET Increment
0319   231B           01489         call    display_write
031A   0008           01490         return
                      01491 
                      01492 ;***************************************************************************
031B                  01493 display_write
031B   00AE           01494         movwf   TEMP
031C   0186           01495         clrf    PORTB
031D   1109           01496         bcf             PORTE,2
031E   1205           01497         bcf             PORTA,4
                      01498 
031F   182E           01499         btfsc   TEMP,0
0320   1605           01500         bsf             PORTA,4
0321   18AE           01501         btfsc   TEMP,1
0322   1509           01502         bsf             PORTE,2
0323   192E           01503         btfsc   TEMP,2
0324   1686           01504         bsf             PORTB,5
0325   19AE           01505         btfsc   TEMP,3
0326   1606           01506         bsf             PORTB,4
0327   1A2E           01507         btfsc   TEMP,4
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 30


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0328   1586           01508         bsf             PORTB,3
0329   1AAE           01509         btfsc   TEMP,5
032A   1506           01510         bsf             PORTB,2
032B   1B2E           01511         btfsc   TEMP,6
032C   1486           01512         bsf             PORTB,1
032D   1BAE           01513         btfsc   TEMP,7
032E   1406           01514         bsf             PORTB,0
                      01515 
032F   1488           01516         bsf     PORTD,1
0330   0000           01517         nop
0331   0000           01518         nop
0332   1088           01519         bcf     PORTD,1         ; Wert übernehmen
                      01520 
0333   233F           01521         call delay_ms
0334   0008           01522         return
                      01523         
                      01524 ;***************************************************************************
0335                  01525 ClearDispBuff           ; Display buffer (0x50) löschen
0335   3010           01526         movlw   0x10
0336   00AF           01527         movwf   TEMP1
0337   3050           01528         movlw   0x50
0338   0084           01529         movwf   FSR
0339   3020           01530         movlw   0x20    ; Leerzeichen
033A                  01531 CDP
033A   0080           01532         movwf   INDF
033B   0A84           01533         incf    FSR,f
033C   0BAF           01534         decfsz  TEMP1,F
033D   2B3A           01535         goto    CDP
                      01536 
033E   0008           01537         return
                      01538 
                      01539 ;============================================================
                      01540 ; delay_ms
                      01541 ; kehrt anch 1 msec zurück
                      01542 ;============================================================
033F                  01543 delay_ms                        ; delay ca. 1ms
                      01544 ;       clrf    DELAY
033F   3040           01545         movlw   0x40
0340   00C7           01546         movwf   DELAY
0341                  01547 delay_ms1
                      01548 ;       clrwdt
0341   0000           01549         nop
0342   0BC7           01550         decfsz  DELAY,F
0343   2B41           01551         goto    delay_ms1
0344   0008           01552         return
                      01553 
                      01554 ;============================================================
                      01555 ; Datenbereich
                      01556 ;=============================================================
                      01557 ; ***************************************************************************
                      01558 ;       org     0x7d0
                      01559 ; ***************************************************************************
                      01560 
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 31


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      01561 
                      01562 
0700                  01563         org 0x700
                      01564 
0700                  01565 DatenKeineFunktion
0700   0782           01566         addwf   2,1
                      01567 
0701   3420           01568         retlw   " "
0702   344B           01569         retlw   "K"
0703   3465           01570         retlw   "e"
0704   3469           01571         retlw   "i"
0705   346E           01572         retlw   "n"
0706   3465           01573         retlw   "e"
0707   3420           01574         retlw   " "
0708   3446           01575         retlw   "F"
0709   3475           01576         retlw   "u"
070A   346E           01577         retlw   "n"
070B   346B           01578         retlw   "k"
070C   3474           01579         retlw   "t"
070D   3469           01580         retlw   "i"
070E   346F           01581         retlw   "o"
070F   346E           01582         retlw   "n"
0710   3420           01583         retlw   " "
                      01584 
                      01585 
0711                  01586 BinToHexTab
0711   0782           01587         addwf   2,1
                      01588 
0712   3430           01589         retlw   "0"
0713   3431           01590         retlw   "1"
0714   3432           01591         retlw   "2"
0715   3433           01592         retlw   "3"
0716   3434           01593         retlw   "4"
0717   3435           01594         retlw   "5"
0718   3436           01595         retlw   "6"
0719   3437           01596         retlw   "7"
071A   3438           01597         retlw   "8"
071B   3439           01598         retlw   "9"
071C   3441           01599         retlw   "A"
071D   3442           01600         retlw   "B"
071E   3443           01601         retlw   "C"
071F   3444           01602         retlw   "D"
0720   3445           01603         retlw   "E"
0721   3446           01604         retlw   "F"
                      01605 
                      01606 
0722                  01607 VersionData
0722   0782           01608         addwf   2,1
                      01609 
0723   3456           01610         retlw   "V"
0724   3431           01611         retlw   "1"
0725   342E           01612         retlw   "."
0726   3430           01613         retlw   "0"
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 32


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0727   3430           01614         retlw   "0"
0728   3420           01615         retlw   " "
0729   342F           01616         retlw   "/"
072A   3420           01617         retlw   " "
                      01618 
                      01619 
072B   3432           01620         retlw   "2"
072C   3432           01621         retlw   "2"
072D   342E           01622         retlw   "."
072E   3430           01623         retlw   "0"
072F   3439           01624         retlw   "9"
0730   342E           01625         retlw   "."
0731   3430           01626         retlw   "0"
0732   3435           01627         retlw   "5"
                      01628 
0733                  01629 MainParamData
0733   0782           01630         addwf   2,1
                      01631 
0734   3452           01632         retlw   "R"
0735   3430           01633         retlw   "0"
0736   3430           01634         retlw   "0"
0737   3430           01635         retlw   "0"
0738   3420           01636         retlw   " "
0739   3447           01637         retlw   "G"
073A   3430           01638         retlw   "0"
073B   3430           01639         retlw   "0"
                      01640 
                      01641 
073C   3430           01642         retlw   "0"
073D   3420           01643         retlw   " "
073E   3442           01644         retlw   "B"
073F   3430           01645         retlw   "0"
0740   3430           01646         retlw   "0"
0741   3430           01647         retlw   "0"
0742   3420           01648         retlw   " "
0743   3420           01649         retlw   " "
                      01650 
                      01651 
                      01652 
                      01653 ;*******************************************************************************
                      01654 ;********************** EEPROM Bereich *****************************************
                      01655 ;*******************************************************************************
                      01656 ;       org 2100        ; EEPROM Bereich
                      01657 
                      01658 ;       DE      'V','2','F','A','0',' ','1','4','.','0','4','.','2','0','0','5'
                      01659 
                      01660 
                      01661 
                      01662 ;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                      01663         END
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 33


SYMBOL TABLE
  LABEL                             VALUE 

ACC1_0                            00000040
ACC1_H                            00000041
ACC1_L                            00000042
ACC2_0                            00000043
ACC2_H                            00000044
ACC2_L                            00000045
AD0                               00000024
AD1                               00000025
AD2                               00000026
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000004
ADCS1                             00000005
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADLoop1                           0000029D
ADLoop2                           000002AA
ADLoop3                           000002B8
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
AD_STATUS                         0000003F
ADconv                            0000029A
AN0                               00000000
AN1                               00000001
AN2                               00000002
AN3                               00000003
AN4                               00000004
AN5                               00000005
AN6                               00000006
AN7                               00000007
ANSEL                             00000091
AdDispatch                        00000110
AddAcc                            00000154
AddAccRep                         00000193
BF                                00000000
BIASMD                            00000006
BRGH                              00000002
BinToHex                          000000F9
BinToHex8                         000000D8
BinToHex81                        000000DD
BinToHexTab                       00000711
C                                 00000000
C1IE                              00000005
C1IF                              00000005
C1INV                             00000004
C1OUT                             00000006
C2IE                              00000006
C2IF                              00000006
C2INV                             00000005
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 34


SYMBOL TABLE
  LABEL                             VALUE 

C2OUT                             00000007
C2SYNC                            00000000
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CDP                               0000033A
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON0                            0000009C
CMCON1                            00000097
CREN                              00000004
CS0                               00000002
CS1                               00000003
CSRC                              00000007
CheckTastIn                       00000258
ClearDispBuff                     00000335
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DELAY                             00000047
DISP_BUFF                         00000050
DISP_CNT                          00000030
DISP_STAT                         00000032
DISP_Z_FLAG                       00000031
D_A                               00000005
DatenKeineFunktion                00000700
DispInitLoop                      0000006D
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 35


SYMBOL TABLE
  LABEL                             VALUE 

DispKeineFunktion                 00000100
DispKeineFunktionLoop             00000103
DispMainParam                     0000008E
DispMainParam_1                   00000091
DispVersion                       0000007E
DispVersion_1                     00000081
EEADRH                            0000010F
EEADRL                            0000010D
EECON1                            0000018C
EECON2                            0000018D
EEDATH                            0000010E
EEDATL                            0000010C
EEIE                              00000007
EEIF                              00000007
EEPGD                             00000007
EERD                              00000000
EEWR                              00000001
EndAD                             000002C2
EndAccAdd                         0000019C
EndAccSub                         000001A6
EndInt                            00000021
EndScan                           00000231
EndTast                           00000256
EndTimer1Int                      00000014
F                                 00000001
FERR                              00000002
FSR                               00000004
GIE                               00000007
GO_DONE                           00000001
HEX_AKT                           00000049
HEX_LAST                          0000004A
HTS                               00000002
HexScan                           0000027A
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOC                               00000096
IOC4                              00000004
IOC5                              00000005
IOC6                              00000006
IOC7                              00000007
IOCB                              00000096
IOCB4                             00000004
IOCB5                             00000005
IOCB6                             00000006
IOCB7                             00000007
IRCF0                             00000004
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 36


SYMBOL TABLE
  LABEL                             VALUE 

IRCF1                             00000005
IRCF2                             00000006
IRP                               00000007
IRVST                             00000005
ITOA_BUFF                         00000060
Interrupt                         00000008
LCDA                              00000005
LCDCON                            00000107
LCDDATA0                          00000110
LCDDATA1                          00000111
LCDDATA10                         0000011A
LCDDATA11                         0000011B
LCDDATA2                          00000112
LCDDATA3                          00000113
LCDDATA4                          00000114
LCDDATA5                          00000115
LCDDATA6                          00000116
LCDDATA7                          00000117
LCDDATA8                          00000118
LCDDATA9                          00000119
LCDEN                             00000007
LCDIE                             00000004
LCDIF                             00000004
LCDPS                             00000108
LCDSE0                            0000011C
LCDSE1                            0000011D
LCDSE2                            0000011E
LMUX0                             00000000
LMUX1                             00000001
LP0                               00000000
LP1                               00000001
LP2                               00000002
LP3                               00000003
LTS                               00000001
LVDCON                            00000109
LVDEN                             00000004
LVDIE                             00000002
LVDIF                             00000002
LVDL0                             00000000
LVDL1                             00000001
LVDL2                             00000002
MainParamData                     00000733
MainWaitLoop                      0000007A
MoveToDispBuff                    000000BF
MoveToDispBuff1                   000000C4
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000001
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 37


SYMBOL TABLE
  LABEL                             VALUE 

NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
NeueTaste                         0000022E
NormalDispatchEnd                 00000153
OERR                              00000001
OPTION_REG                        00000081
OSCCON                            0000008F
OSCTUNE                           00000090
OSFIE                             00000007
OSFIF                             00000007
OSTS                              00000003
P                                 00000004
PCL                               00000002
PCLATH                            0000000A
PCLATH_TEMP                       00000021
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PORT_TASTIN                       00000067
PORT_TASTOUT                      00000066
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PortTastIn                        00000269
PortTastOut                       00000262
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 38


SYMBOL TABLE
  LABEL                             VALUE 

RX9                               00000006
RX9D                              00000000
R_W                               00000002
RepeatTaste                       0000022C
S                                 00000003
S0C0                              00000000
S0C1                              00000000
S0C2                              00000000
S0C3                              00000000
S10C0                             00000002
S10C1                             00000002
S10C2                             00000002
S10C3                             00000002
S11C0                             00000003
S11C1                             00000003
S11C2                             00000003
S11C3                             00000003
S12C0                             00000004
S12C1                             00000004
S12C2                             00000004
S12C3                             00000004
S13C0                             00000005
S13C1                             00000005
S13C2                             00000005
S13C3                             00000005
S14C0                             00000006
S14C1                             00000006
S14C2                             00000006
S14C3                             00000006
S15C0                             00000007
S15C1                             00000007
S15C2                             00000007
S15C3                             00000007
S16C0                             00000000
S16C1                             00000000
S16C2                             00000000
S16C3                             00000000
S17C0                             00000001
S17C1                             00000001
S17C2                             00000001
S17C3                             00000001
S18C0                             00000002
S18C1                             00000002
S18C2                             00000002
S18C3                             00000002
S19C0                             00000003
S19C1                             00000003
S19C2                             00000003
S19C3                             00000003
S1C0                              00000001
S1C1                              00000001
S1C2                              00000001
S1C3                              00000001
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 39


SYMBOL TABLE
  LABEL                             VALUE 

S20C0                             00000004
S20C1                             00000004
S20C2                             00000004
S20C3                             00000004
S21C0                             00000005
S21C1                             00000005
S21C2                             00000005
S21C3                             00000005
S22C0                             00000006
S22C1                             00000006
S22C2                             00000006
S22C3                             00000006
S23C0                             00000007
S23C1                             00000007
S23C2                             00000007
S23C3                             00000007
S2C0                              00000002
S2C1                              00000002
S2C2                              00000002
S2C3                              00000002
S3C0                              00000003
S3C1                              00000003
S3C2                              00000003
S3C3                              00000003
S4C0                              00000004
S4C1                              00000004
S4C2                              00000004
S4C3                              00000004
S5C0                              00000005
S5C1                              00000005
S5C2                              00000005
S5C3                              00000005
S6C0                              00000006
S6C1                              00000006
S6C2                              00000006
S6C3                              00000006
S7C0                              00000007
S7C1                              00000007
S7C2                              00000007
S7C3                              00000007
S8C0                              00000000
S8C1                              00000000
S8C2                              00000000
S8C3                              00000000
S9C0                              00000001
S9C1                              00000001
S9C2                              00000001
S9C3                              00000001
SBOREN                            00000004
SCS                               00000000
SE0                               00000000
SE1                               00000001
SE10                              00000002
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 40


SYMBOL TABLE
  LABEL                             VALUE 

SE11                              00000003
SE12                              00000004
SE13                              00000005
SE14                              00000006
SE15                              00000007
SE16                              00000000
SE17                              00000001
SE18                              00000002
SE19                              00000003
SE2                               00000002
SE20                              00000004
SE21                              00000005
SE22                              00000006
SE23                              00000007
SE3                               00000003
SE4                               00000004
SE5                               00000005
SE6                               00000006
SE7                               00000007
SE8                               00000000
SE9                               00000001
SEG0COM0                          00000000
SEG0COM1                          00000000
SEG0COM2                          00000000
SEG0COM3                          00000000
SEG10COM0                         00000002
SEG10COM1                         00000002
SEG10COM2                         00000002
SEG10COM3                         00000002
SEG11COM0                         00000003
SEG11COM1                         00000003
SEG11COM2                         00000003
SEG11COM3                         00000003
SEG12COM0                         00000004
SEG12COM1                         00000004
SEG12COM2                         00000004
SEG12COM3                         00000004
SEG13COM0                         00000005
SEG13COM1                         00000005
SEG13COM2                         00000005
SEG13COM3                         00000005
SEG14COM0                         00000006
SEG14COM1                         00000006
SEG14COM2                         00000006
SEG14COM3                         00000006
SEG15COM0                         00000007
SEG15COM1                         00000007
SEG15COM2                         00000007
SEG15COM3                         00000007
SEG16COM0                         00000000
SEG16COM1                         00000000
SEG16COM2                         00000000
SEG16COM3                         00000000
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 41


SYMBOL TABLE
  LABEL                             VALUE 

SEG17COM0                         00000001
SEG17COM1                         00000001
SEG17COM2                         00000001
SEG17COM3                         00000001
SEG18COM0                         00000002
SEG18COM1                         00000002
SEG18COM2                         00000002
SEG18COM3                         00000002
SEG19COM0                         00000003
SEG19COM1                         00000003
SEG19COM2                         00000003
SEG19COM3                         00000003
SEG1COM0                          00000001
SEG1COM1                          00000001
SEG1COM2                          00000001
SEG1COM3                          00000001
SEG20COM0                         00000004
SEG20COM1                         00000004
SEG20COM2                         00000004
SEG20COM3                         00000004
SEG21COM0                         00000005
SEG21COM1                         00000005
SEG21COM2                         00000005
SEG21COM3                         00000005
SEG22COM0                         00000006
SEG22COM1                         00000006
SEG22COM2                         00000006
SEG22COM3                         00000006
SEG23COM0                         00000007
SEG23COM1                         00000007
SEG23COM2                         00000007
SEG23COM3                         00000007
SEG2COM0                          00000002
SEG2COM1                          00000002
SEG2COM2                          00000002
SEG2COM3                          00000002
SEG3COM0                          00000003
SEG3COM1                          00000003
SEG3COM2                          00000003
SEG3COM3                          00000003
SEG4COM0                          00000004
SEG4COM1                          00000004
SEG4COM2                          00000004
SEG4COM3                          00000004
SEG5COM0                          00000005
SEG5COM1                          00000005
SEG5COM2                          00000005
SEG5COM3                          00000005
SEG6COM0                          00000006
SEG6COM1                          00000006
SEG6COM2                          00000006
SEG6COM3                          00000006
SEG7COM0                          00000007
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 42


SYMBOL TABLE
  LABEL                             VALUE 

SEG7COM1                          00000007
SEG7COM2                          00000007
SEG7COM3                          00000007
SEG8COM0                          00000000
SEG8COM1                          00000000
SEG8COM2                          00000000
SEG8COM3                          00000000
SEG9COM0                          00000001
SEG9COM1                          00000001
SEG9COM2                          00000001
SEG9COM3                          00000001
SEGEN0                            00000000
SEGEN1                            00000001
SEGEN10                           00000002
SEGEN11                           00000003
SEGEN12                           00000004
SEGEN13                           00000005
SEGEN14                           00000006
SEGEN15                           00000007
SEGEN16                           00000000
SEGEN17                           00000001
SEGEN18                           00000002
SEGEN19                           00000003
SEGEN2                            00000002
SEGEN20                           00000004
SEGEN21                           00000005
SEGEN22                           00000006
SEGEN23                           00000007
SEGEN3                            00000003
SEGEN4                            00000004
SEGEN5                            00000005
SEGEN6                            00000006
SEGEN7                            00000007
SEGEN8                            00000000
SEGEN9                            00000001
SLPEN                             00000006
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 43


SYMBOL TABLE
  LABEL                             VALUE 

STATUS_TEMP                       0000007F
SWDTE                             00000000
SWDTEN                            00000000
SYNC                              00000004
SendNewColor                      00000117
SubAcc                            0000016A
SubAcc1                           00000173
SubAccRep                         0000019D
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1GE                              00000006
T1GINV                            00000007
T1GSS                             00000001
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TASTE_AKT                         00000028
TASTE_IDX                         0000002A
TASTE_LAST                        00000029
TEMP                              0000002E
TEMP1                             0000002F
TEMP2                             00000030
TEMP3                             0000003B
TEMP4                             0000003C
TEMP5                             0000003D
TEMPFLAG                          00000046
TIM1_10MS                         00000022
TIM2_10MS                         00000023
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 44


SYMBOL TABLE
  LABEL                             VALUE 

TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRMT                              00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
TastDispatch_Hex0                 00000138
TastScan                          00000219
TastScan1                         00000232
TestHex1                          00000289
TestHex2                          0000028E
TestHex3                          00000293
Timer1Int                         00000014
Timer2Int                         00000017
TstScLoop                         0000021E
UA                                00000001
V24Send                           000000B9
VCFG0                             00000005
VCFG1                             00000006
VLCDEN                            00000004
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             0000009D
VREN                              00000007
VRR                               00000005
VersLoop                          00000073
VersionData                       00000722
W                                 00000000
WA                                00000004
WCOL                              00000007
WDTCON                            00000105
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WERR                              00000005
WFT                               00000007
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 45


SYMBOL TABLE
  LABEL                             VALUE 

WPU                               00000095
WPU0                              00000000
WPU1                              00000001
WPU2                              00000002
WPU3                              00000003
WPU4                              00000004
WPU5                              00000005
WPU6                              00000006
WPU7                              00000007
WPUB                              00000095
WPUB0                             00000000
WPUB1                             00000001
WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
WPUB7                             00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
W_TEMP                            00000020
Wait10ms                          00000294
WaitLoop                          00000296
WaitTxBufferleer                  000000BA
WandleKanal_1                     000002A7
WandleKanal_2                     000002B4
Z                                 00000002
ZeroCount                         0000012F
ZeroCountLoop                     00000132
_BOD_NSLEEP                       00003EFF
_BOD_OFF                          00003CFF
_BOD_ON                           00003FFF
_BOD_SBODEN                       00003DFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003F7F
_CP_OFF                           00003FFF
_CP_ON                            00003FBF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         00002FFF
_EC_OSC                           00003FFB
_EXTRC                            00003FFF
_EXTRCIO                          00003FFE
_EXTRC_OSC_CLKOUT                 00003FFF
_EXTRC_OSC_NOCLKOUT               00003FFE
_FCMEN_OFF                        000037FF
_FCMEN_ON                         00003FFF
_HS_OSC                           00003FFA
_IESO_OFF                         00003BFF
_IESO_ON                          00003FFF
_INTOSC                           00003FFD
_INTOSCIO                         00003FFC
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 46


SYMBOL TABLE
  LABEL                             VALUE 

_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FF8
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FEF
_WDT_OFF                          00003FF7
_WDT_ON                           00003FFF
_XT_OSC                           00003FF9
__16F914                          00000001
dAddAcc                           0000015B
dAddAcc1                          00000163
dSubAcc                           00000178
dSubAcc1                          00000186
dSubAcc2                          0000018E
delay_ms                          0000033F
delay_ms1                         00000341
display                           000002C5
display_CB                        00000301
display_clr                       000002F7
display_init                      00000306
display_off                       000002F0
display_on                        000002FC
display_write                     0000031B
display_z1                        000002D1
display_z2                        000002D5
display_z3                        000002D9
display_z4                        000002DD
display_zout                      000002E1
display_zout0                     000002E8
dutoa                             000001FA
dutoa1                            00000203
dutoa2                            00000208
dutoa3                            00000211
dutoa4                            00000216
loop_1                            0000002C
lutoa                             000001C1
lutoa1                            000001C8
lutoa2                            000001CD
lutoa3                            000001D5
lutoa4                            000001DA
lutoa5                            000001E2
lutoa6                            000001E7
lutoa7                            000001EF
lutoa8                            000001F4
lutoa_sub                         000001CE
main                              00000076
start                             00000028
sutoa                             000001A7
sutoa1                            000001AC
sutoa2                            000001B1
sutoa3                            000001B6
MPASM  4.02 Released                               KACHEL.ASM   9-22-2005  20:10:35         PAGE 47


SYMBOL TABLE
  LABEL                             VALUE 

sutoa4                            000001BB
wait_15zms                        000000AF
wait_22zms                        000000AE
wait_3ms                          000000AD
wait_750us                        000000B0


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XX--X---XXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXX----------- ---------------- ---------------- ----------------
0700 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0740 : XXXX------------ ---------------- ---------------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   900
Program Memory Words Free:  3196


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    23 reported,     0 suppressed

