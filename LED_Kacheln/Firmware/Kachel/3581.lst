MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;       Processor 16F88
                      00002 
                      00003 ; ********************************************************************************************
                      00004 ; **************************  LED-Wall RGB-Control  ******************************************
                      00005 ; ********************************************************************************************
                      00006 ; 14.09.2005
                      00007 ;       -Baudrate 19,2kbit, 9bit + 1 Stopbit
                      00008 ;       -9.Bit: 0=Wert 1=Adresse
                      00009 ;       -Pause von > 6ms startet eine Sequenz
                      00010 ;       -Sequenz: bis zu 128 mal (Adresse + R + G + B + Control)
                      00011 ;       -Adresse 255 meint alle Kacheln
                      00012 ; 29.09.2005
                      00013 ;       -Versuch, unter 200 gleichzeitig die Periodendauer zu verlängern!
                      00014 ; 04.10.2005
                      00015 ;       -Bis Stellwert 255 die Periodendauer linear verlängern
                      00016 ;       -mit Anfangsstellwert und 255 Stufen auf Rest verteilen
                      00017 ;
                      00018 ; ********************************************************************************************
                      00019         LIST P=16F88
                      00020 ; ********************************************************************************************
                      00021 #define W               00
                      00022 #define F               01
                      00023 #define TMR0            01
                      00024 #define PCL             02
                      00025 #define STATUS          03
                      00026 #define FSR             04
                      00027 #define PORTA           05
                      00028 #define PORTB           06
                      00029 #define PCLATH          0A
                      00030 #define INTCON          0B
                      00031 #define PIR1            0C
                      00032 #define PIE1            0C
                      00033 #define PIR2            0D
                      00034 #define PIE2            0D
                      00035 #define TMR1L           0E
                      00036 #define TMR1H           0F
                      00037 #define OSCCON          0F      ; Oszillator Control Register 8FH
                      00038 
                      00039 #define T1CON           10      ; T1Con Register
                      00040 #define OSCTUNE         10      ; Oszi. 90H
                      00041 #define TXSTA           18      ; Transmit Status Register
                      00042 #define RCSTA           18
                      00043 #define TXREG           19      ; Transmit-Register
                      00044 #define RCREG           1A      ; Receive-Register
                      00045 #define ANSEL           1B
                      00046 #define CMCON           1C      ; Bank 1
                      00047 #define ADRESH          1E
                      00048 #define ADCON0          1F
                      00049 #define ADCON1          1F      ; Bank 1
                      00050 
                      00051 #define ON_Time         20      ; Messung der EIN-Zeit
                      00052 
                      00053 #define DEV_Adr         22      ; lokale Adresse
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00054 #define TMR_0           23      ; Timer für seriellen Bus
                      00055 #define Count_L         24      ; Counter für Byte-Gruppe
                      00056 #define Count_H         25      ; Counter für Adresse
                      00057 #define RX_Status       26
                      00058 ;                       26.0    1=Adresse ok
                      00059 
                      00060 #define Hilfs_RegL      27      ; Hilfs Register
                      00061 #define Hilfs_RegH      28      ; Hilfs Register
                      00062 
                      00063 #define RX_Rotate       2D
                      00064 #define RX_TempC        2E      ; Temp-RX_Buffer
                      00065 #define RX_Buffer       2F
                      00066 #define RX_CS           30      ; CS-Berechnung
                      00067 
                      00068 #define SOLL_R          31      ; Sollwert für ROT
                      00069 #define SOLL_G          32      ; Sollwert für GRUEN
                      00070 #define SOLL_B          33      ; Sollwert für BLAU
                      00071 #define BEFEHL          34      ; 4. Byte
                      00072 #define TEMP_R          35      ; Reserve
                      00073 #define TEMP_G          36      ; Reserve
                      00074 #define TEMP_B          37      ; Reserve
                      00075 #define TEMP_R1         38      ; Reserve
                      00076 #define TEMP_G1         39      ; Reserve
                      00077 #define TEMP_G2         3A      ; Reserve
                      00078 
                      00079 #define COLOR_R         3D      ; Stellwert für Rot
                      00080 #define COLOR_G         3E      ; Stellwert für Grün
                      00081 #define COLOR_B         3F      ; Stellwert für Blau
                      00082 
                      00083 ; 70H .. 7FH in allen vier Bänken gleich!
                      00084 
                      00085 #define RGB_Wert        71      ; RGB-Wert vom Controller
                      00086 
                      00087 #define H_Stellwert     72      ; Hilfsmerker für Stellwert
                      00088 #define Stell_HW        73      ; berechneter Stellwert
                      00089 #define StellWert       74      ; Stellwert
                      00090 
                      00091 #define CounterT        76      ; berechneter Counter Wert
                      00092 #define CounterWert     77      ; Wert für Counter
                      00093 
                      00094 #define Int_Frei        78      ; Freigabe für Übernahme der Werte
                      00095 #define PWM             79      ; PWM-Wert (Ringzähler)
                      00096 
                      00097 #define W_TEMP          7D
                      00098 #define STATUS_TEMP     7E
                      00099 #define PCLATH_TEMP     7F
                      00100 
                      00101 #define StartTime       d'208'  ; kürzester Timer Wert (50us)
                      00102 
                      00103 ; ********************************************************************************************
                      00104 ; ********************************************************************************************
                      00105 ;16F628-Configs---------------------------------------------------------------------
2000   0003 0005 0008 00106         __IDLOCS        H'3581' ;       User ID
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

       0001 
                      00107 ;-----------------------------------------------------------------------------------
                      00108 ;
  00002007            00109 _CONFIG1        EQU     H'2007'                     
  00002008            00110 _CONFIG2        EQU     H'2008' 
                      00111                     
2007   0934           00112         __CONFIG        _CONFIG1,  B'00100100110100'
                      00113 ;       __CONFIG        _CONFIG1,  B'10011101110000' zum debuggen
                      00114 
                      00115 ;                 B'10011101110100'
                      00116 ;                   ||||||||||||||
                      00117 ;                   |||||||||+||++---FOSC 1xx11=RC R+C an RA7, RA6=CLKOUT
                      00118 ;                   |||||||||+||++---FOSC 1xx10=RC R+C an RA7
                      00119 ;                   |||||||||+||++---FOSC 1xx01=INTOSC RA6=CLKOUT
                      00120 ;                   |||||||||+||++---FOSC 1xx00=INTOSC
                      00121 ;                   |||||||||+||++---FOSC 0xx11=EX
                      00122 ;                   |||||||||+||++---FOSC 0xx10=HS      ***
                      00123 ;                   |||||||||+||++---FOSC 0xx01=XT
                      00124 ;                   |||||||||+||++---FOSC 0xx00=LP
                      00125 ;                   ||||||||| ||     
                      00126 ;                   ||||||||| |+-----WDTE 0=disa 1=ena
                      00127 ;                   ||||||||| +------PWRT 0=ena  1=disa
                      00128 ;                   ||||||||+--------MCLR 0=din  1=ena
                      00129 ;                   |||||||+---------BOR  0=disa 1=ena
                      00130 ;                   ||||||+----------LVP  0=HV   1=RB4 LVP
                      00131 ;                   |||||+-----------CPD  0=prod 1=CPD off
                      00132 ;                   |||++------------WRT  00= 000..FFF write protected
                      00133 ;                   |||++------------WRT  01= 000..7FF write protected
                      00134 ;                   |||++------------WRT  10= 000..0FF write protected
                      00135 ;                   |||++------------WRT  11= Write prod. OFF
                      00136 ;                   ||+--------------ICD  0=ena  1=dis
                      00137 ;                   |+---------------CCP1 0=RB3  1=RB0
                      00138 ;                   +----------------CP   0=prod 1=CPF off
                      00139 ;
2008   3FFC           00140         __CONFIG        _CONFIG2,  B'11111111111100'
                      00141 ;
                      00142 ;-----------------------------------------------------------------------------------
                      00143 ;=============================================================================================
                      00144 ; PROGRAMM
                      00145 ;=============================================================================================
                      00146 
0000   0000           00147         NOP                     ; für ICD2 freihalten
0001   0000           00148         NOP                     ; für ICD2 freihalten
0002   2829           00149         goto    start
                      00150 
                      00151 ; ********************************************************************************************
                      00152 ; ********************       ISR     *********************************************************
                      00153 ; ********************************************************************************************
0004                  00154         org     004
                      00155 ; ********************************************************************************************
0004   00FD           00156         MOVWF   W_TEMP          ;Copy W to TEMP register
0005   0E03           00157         SWAPF   STATUS, W       ;Swap status to be saved into W
0006   0183           00158         CLRF    STATUS          ;bank 0, regardless of current bank, Clears IRP,RP1,RP0
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0007   00FE           00159         MOVWF   STATUS_TEMP     ;Save status to bank zero STATUS_TEMP register
                      00160 
0008                  00161 BOISR
0008   1F0D           00162         btfss   PIR2, 6
0009   2813           00163         goto    TMR0_ISR        ; Timer0 INT
                      00164 
000A   1206           00165         bcf     PORTB, 4        ; ausschalten
                      00166 
000B   1683           00167         bsf     STATUS, 5
000C   081C           00168         movf    CMCON, W
000D   1283           00169         bcf     STATUS, 5
                      00170 
000E   0801           00171         movf    TMR0, W
000F   00A0           00172         movwf   ON_Time
                      00173 
0010   130D           00174         bcf     PIR2, 6         ; Comparator Bit
0011   1D0B           00175         btfss   INTCON, 2
0012   2824           00176         goto    EOISR
                      00177 
0013                  00178 TMR0_ISR
0013   1206           00179         bcf     PORTB, 4        ; spätestens jetzt ausschalten
0014   0877           00180         movf    CounterWert, W
0015   0781           00181         addwf   TMR0, F
0016   110B           00182         bcf     INTCON, 2       ; TMR0 INT
                      00183 
0017   0FA3           00184         incfsz  TMR_0, F
0018   281A           00185         goto    TMR0_ISRn
0019   03A3           00186         decf    TMR_0, F        ; 12,6ms bis 255
                      00187         
001A                  00188 TMR0_ISRn
001A   0874           00189         movf    StellWert, W
001B   07F9           00190         addwf   PWM, F
001C   1803           00191         btfsc   STATUS, 0       ; immer einschalten, wenn C
001D   1606           00192         bsf     PORTB, 4        ; einschalten
                      00193 
001E   1C78           00194         btfss   Int_Frei, 0     ; testen, ob neue Werte übernommen werden dürfen
001F   2824           00195         goto    EOISR
                      00196 
0020   0876           00197         movf    CounterT, W
0021   00F7           00198         movwf   CounterWert
0022   0873           00199         movf    Stell_HW, W
0023   00F4           00200         movwf   StellWert
                      00201 
0024                  00202 EOISR
0024   0E7E           00203         SWAPF   STATUS_TEMP, W  ; Swap STATUS_TEMP register into W
                      00204                                 ; (sets bank to original state)
0025   0083           00205         MOVWF   STATUS          ; Move W into STATUS register
0026   0EFD           00206         SWAPF   W_TEMP, F       ; Swap W_TEMP
0027   0E7D           00207         SWAPF   W_TEMP, W       ; Swap W_TEMP into W
                      00208 
0028   0009           00209         RETFIE                  ; sofort zurück nach INT
                      00210 
                      00211 ; ********************************************************************************************
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00212 ; ************** Initialisierung beginnt hier *******************
                      00213 ; ********************************************************************************************
                      00214 
0029                  00215 start
0029   0064           00216         clrwdt
002A   0000           00217         nop
                      00218 
                      00219 ;=============================================================================================
                      00220 ; Register 20H bis 7FH löschen
                      00221 ;=============================================================================================
002B   3020           00222         movlw   20      ; beginne bei Register 20H
002C   0084           00223         movwf   FSR     ; FSR
                      00224 
                      00225 
002D   0180           00226         clrf    0
002E   0A84           00227         incf    FSR, F
002F   1F84           00228         btfss   FSR, 7  ; wenn REGISTER 80H erreicht
0030   282D           00229         goto    $-3
                      00230 
                      00231 ;=============================================================================================
                      00232 ; INIT Ports, OPTIN, INTCON
                      00233 ;=============================================================================================
                      00234 
                      00235 ;>>>    OSCCON (8Fh)
                      00236         
0031   1683           00237         BSF     STATUS, 5
0032   307E           00238         movlw   b'01111110'
0033   008F           00239         movwf   OSCCON
0034   0190           00240         clrf    OSCTUNE         ; abgestimmt auf Mittenfrequenz
0035   1283           00241         BCF     STATUS, 5
                      00242 
                      00243 ;>>>    OPTION (81H)
                      00244 
0036   1683           00245         bsf     STATUS, 5       ; Bank 1
0037   3080           00246         movlw   b'10000000'     ; no RBPull-Up, falling edge, noWDT, 000=1:2
0038   0081           00247         movwf   1
0039   1283           00248         bcf     STATUS, 5       ; Bank 0
                      00249 
                      00250 ;>>>    Ports
                      00251 
                      00252 ;       >>> ANSEL
003A   1683           00253         bsf     STATUS, 5
003B   3016           00254         movlw   b'00010110'     ; AN4 = RA4
003C   009B           00255         movwf   ANSEL           ; ANSEL
003D   1283           00256         bcf     STATUS, 5
                      00257 
003E   0185           00258         clrf    PORTA           ; Port A
003F   0186           00259         clrf    PORTB           ; Port B
                      00260 
                      00261 ; ADCON0        (1Fh)
                      00262 
0040   30A1           00263         movlw   b'10100001'     ; AN4, ON, FOSC/16
0041   009F           00264         movwf   ADCON0
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00265 
                      00266 ; ADCON1        (9Fh)
                      00267 
0042   1683           00268         bsf     STATUS, 5       ; Bank 1
0043   3040           00269         movlw   b'01000000'     ; Left Adj., OSZ/2 REF=VDD + VSS
0044   009F           00270         movwf   ADCON1
                      00271 
                      00272 ; TRISA         (85h)
0045   30FF           00273         movlw   b'11111111'     ; 
0046   0085           00274         movwf   PORTA           ; RA0..RA4,RB6,RB7=IN  RB5=MCLR
                      00275         
0047   30EF           00276         movlw   b'11101111'     ; 
0048   0086           00277         movwf   PORTB           ; RB4=OUT RB0..3,6,7=IN RB5=TX
0049   1283           00278         bcf     STATUS, 5       ; Bank 0
                      00279 
004A   0185           00280         clrf    PORTA           ; Port A
004B   0186           00281         clrf    PORTB           ; Port B
                      00282 
                      00283 ;>>>    INTCON (0BH)
                      00284 
004C   3060           00285         movlw   b'01100000'     ; PEIE, TMR0-Int
004D   008B           00286         movwf   INTCON
                      00287         
                      00288 ;>>>    PIE1 (8CH)
                      00289         
004E   1683           00290         bsf     STATUS, 5
004F   3000           00291         movlw   b'00000000'     ; 
0050   008C           00292         movwf   PIE1
0051   1283           00293         bcf     STATUS, 5
                      00294         
0052   018C           00295         clrf    PIR1
                      00296 
                      00297 ;>>>    PIE2 (8DH)
                      00298         
0053   1683           00299         bsf     STATUS, 5
0054   3040           00300         movlw   b'01000000'     ; Comparator IE
0055   008D           00301         movwf   PIE2
0056   1283           00302         bcf     STATUS, 5
                      00303 
0057   018D           00304         clrf    PIR2
                      00305 
                      00306 ; CMCON         (9Ch)
                      00307 
0058   1683           00308         bsf     STATUS, 5
0059   3025           00309         movlw   b'00100101'     ; V- = RA1, VRef = RA2
005A   009C           00310         movwf   CMCON
                      00311 
                      00312 ; CVRON         (9Dh)
                      00313 
                      00314 ;       movlw   b'00000000'
005B   3022           00315         movlw   b'00100010'
005C   009D           00316         movwf   0x1D            ; CVRON
005D   1283           00317         bcf     STATUS, 5
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00318 
                      00319         ;>>> T1CON (10H)
                      00320 
005E   3025           00321         movlw   b'00100101'     ; OSZ/4, Prescaler 1:4, TMR1ON=1
005F   0090           00322         movwf   T1CON
                      00323 
                      00324         ;>>> TXSTA (98H)
                      00325         
0060   1683           00326         bsf     STATUS, 5
0061   3045           00327         movlw   b'01000101'     ; Transmit DIS, asynchron, 9-bit, high speed
                      00328 ;       movlw   b'00000000'
0062   0098           00329         movwf   TXSTA
0063   1283           00330         bcf     STATUS, 5
                      00331         
                      00332         ;>>> RCSTA (18H)
                      00333         
0064   30D0           00334         movlw   b'11010000'     ; asychron, 9-bit, cont. Receive
0065   0098           00335         movwf   RCSTA
                      00336 
                      00337         ;>>> SPBRG (99H)
                      00338         
0066   1683           00339         bsf     STATUS, 5
0067   3019           00340         movlw   d'025'          ; Baudrate: 19,2kBaud
0068   0099           00341         movwf   19
0069   1283           00342         bcf     STATUS, 5
                      00343 
006A   20EC           00344         call    delay_100us
                      00345 
                      00346 ; hier die eigene Adresse abfragen
006B   307F           00347         movlw   0x7F
006C   00A2           00348         movwf   DEV_Adr         ; alles auf HIGH setzen
                      00349 
006D   1D85           00350         btfss   PORTA, 3
006E   1022           00351         bcf     DEV_Adr, 0
006F   1C06           00352         btfss   PORTB, 0
0070   10A2           00353         bcf     DEV_Adr, 1
0071   1C86           00354         btfss   PORTB, 1
0072   1122           00355         bcf     DEV_Adr, 2
0073   1D86           00356         btfss   PORTB, 3
0074   11A2           00357         bcf     DEV_Adr, 3
0075   1E86           00358         btfss   PORTB, 5
0076   1222           00359         bcf     DEV_Adr, 4
0077   1F86           00360         btfss   PORTB, 7
0078   12A2           00361         bcf     DEV_Adr, 5
0079   1F06           00362         btfss   PORTB, 6
007A   1322           00363         bcf     DEV_Adr, 6
                      00364 
007B   178B           00365         bsf     INTCON, 7       ; Comparator als einziger Int.
                      00366         
007C   081A           00367         movf    RCREG, W
007D   00AF           00368         movwf   RX_Buffer       ; schon mal das Byte abholen
                      00369 
                      00370 ;***************************************************************************************************
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00371 ;***************************************************************************************************
                      00372 
                      00373 ; %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                      00374 ; %%%%%% Hauptprogramm LOOP Begin  %%%%%%%%%
                      00375 ; %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                      00376 
007E                  00377 main
007E   0064           00378         clrwdt
007F   0000           00379         nop
                      00380 
0080   307F           00381         movlw   0x7F            ; NULL ist lokaler Betrieb
0081   0622           00382         xorwf   DEV_Adr, W
0082   397F           00383         andlw   0x7F
                      00384         
0083   1D03           00385         btfss   STATUS, 2
0084   28A4           00386         goto    RS232
                      00387         
0085   191F           00388         btfsc   ADCON0, 2
0086   20EC           00389         call    delay_100us
                      00390         
0087   081E           00391         movf    ADRESH, W
0088   00BD           00392         movwf   COLOR_R
0089   00B1           00393         movwf   SOLL_R
008A   00BE           00394         movwf   COLOR_G
008B   00B2           00395         movwf   SOLL_G
008C   00BF           00396         movwf   COLOR_B
008D   00B3           00397         movwf   SOLL_B
                      00398 
008E   151F           00399         bsf     ADCON0, 2       ; AD-Wandlung wieder starten
                      00400         
008F                  00401 main_Stell
008F   083D           00402         movf    COLOR_R, W      ; A6=0, A7=0 vorbelegen mit ROT holen
0090   1B85           00403         btfsc   PORTA, 7        ; 
0091   083F           00404         movf    COLOR_B, W      ; wenn A7=1, dann Blau holen
0092   1B05           00405         btfsc   PORTA, 6        ; 
0093   083E           00406         movf    COLOR_G, W      ; wenn A6=1, dann Grün holen
                      00407 
0094   00F1           00408         movwf   RGB_Wert
                      00409 
0095   1078           00410         bcf     Int_Frei, 0
                      00411 
0096   3003           00412         movlw   HIGH Tab_Wert+1
0097   008A           00413         movwf   PCLATH
                      00414 
0098   0871           00415         movf    RGB_Wert, W
0099   22FF           00416         call    Tab_Wert
                      00417 
009A   018A           00418         clrf    PCLATH  
                      00419         
009B   00F3           00420         movwf   Stell_HW
                      00421 
009C   3005           00422         movlw   HIGH Tab_Timer+1
009D   008A           00423         movwf   PCLATH
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00424 
009E   0871           00425         movf    RGB_Wert, W
009F   24FF           00426         call    Tab_Timer
                      00427 
00A0   018A           00428         clrf    PCLATH  
                      00429         
00A1   00F6           00430         movwf   CounterT
                      00431 
00A2   1478           00432         bsf     Int_Frei, 0
00A3   287E           00433         goto    main            ; nichts tun
                      00434 
                      00435 ;***************************************************************************************************
                      00436 ; hierher nur, wenn DEV_Adr NICHT 255
                      00437 ; Protokoll: Pause > 13ms, 1..127 mal vier Bytes
                      00438 ; vier Bytes:   SOLL_R + SOLL_G + SOLL_B + Byte
                      00439 ; Zeit: bei 19,2Baud -> ca. 0,5ms/Zeichen -> 2ms pro Adresse -> ca. 250ms/Loop
                      00440 ; Zeit: bei 1m * 3m -> 4*12 = 48 Kacheln -> ca. 100ms/Loop
                      00441 
00A4                  00442 RS232
00A4   1898           00443         btfsc   RCSTA, 1
00A5   1218           00444         bcf     RCSTA, 4
00A6   1618           00445         bsf     RCSTA, 4
                      00446 
00A7   1E8C           00447         btfss   PIR1, 5         ; wenn 1, dann Transfer eines Bytes ist komplett
00A8   287E           00448         goto    main
                      00449 
00A9   081A           00450         movf    RCREG, W
00AA   00AF           00451         movwf   RX_Buffer       ; schon mal das Byte abholen
                      00452 
00AB   1BA3           00453         btfsc   TMR_0, 7        ; TimeOut > 6,375ms
                      00454 ;       clrf    Count_L         ; nach TimeOut den Zähler auf NULL setzen
00AC   0000           00455         nop
00AD   01A3           00456         clrf    TMR_0
                      00457 
                      00458 ; kam eine Adresse?
00AE   1818           00459         btfsc   RCSTA, 0        ; wenn 9.Bit=HIGH, dann Adresse
00AF   20C7           00460         call    RS232_Adr
                      00461         
00B0   1826           00462         btfsc   RX_Status, 0
00B1   28C5           00463         goto    RS232_Addr              ; wenn eine Adresse kam, zurück 
                      00464 
00B2   300B           00465         movlw   d'11'           ; maximal 10 Bytes sollen empfangen werden
00B3   0224           00466         subwf   Count_L, W
00B4   1803           00467         btfsc   STATUS, 0
00B5   287E           00468         goto    main            ; hier noch nicht stellen
                      00469 
00B6   3031           00470         movlw   SOLL_R
00B7   0724           00471         addwf   Count_L, W
00B8   0084           00472         movwf   FSR
                      00473         
00B9   3003           00474         movlw   d'03'           ; Anzahl der Nullen zählen
00BA   0224           00475         subwf   Count_L, W
00BB   1C03           00476         btfss   STATUS, 0
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00BC   20D3           00477         call    RS232_Nullen    ; über R, G und B die Nullen zählen
                      00478 
00BD   3003           00479         movlw   03
00BE   0624           00480         xorwf   Count_L, W      ; 4. Byte = CS
00BF   1903           00481         btfsc   STATUS, 2
00C0   20E0           00482         call    RS232_CS
                      00483         
00C1   082F           00484         movf    RX_Buffer, W
00C2   0080           00485         movwf   0
                      00486 
00C3   0AA4           00487         incf    Count_L, F
00C4   288F           00488         goto    main_Stell      ; 
                      00489 
00C5                  00490 RS232_Addr
00C5   1026           00491         bcf     RX_Status, 0
00C6   287E           00492         goto    main
                      00493 
00C7                  00494 RS232_Adr
00C7   1026           00495         bcf     RX_Status, 0    ; Addr ok erst mal löschen
                      00496 
00C8   30FF           00497         movlw   0xFF            ; Sammel-Adresse
00C9   062F           00498         xorwf   RX_Buffer, W
00CA   1903           00499         btfsc   STATUS, 2
00CB   1426           00500         bsf     RX_Status, 0    ; Adresse ist ok
                      00501 
00CC   0822           00502         movf    DEV_Adr, W      ; lokale Adresse holen
00CD   062F           00503         xorwf   RX_Buffer, W
00CE   1903           00504         btfsc   STATUS, 2
00CF   1426           00505         bsf     RX_Status, 0    ; Adresse ist ok
                      00506         
00D0   1826           00507         btfsc   RX_Status, 0
00D1   01A4           00508         clrf    Count_L         ; Byte-Counter auf NULL setzen
00D2   0008           00509         return
                      00510 
00D3                  00511 RS232_Nullen
00D3   08A4           00512         movf    Count_L, F
00D4   1903           00513         btfsc   STATUS, 2
00D5   01B0           00514         clrf    RX_CS
                      00515         
00D6   082F           00516         movf    RX_Buffer, W
00D7   00AE           00517         movwf   RX_TempC
                      00518         
00D8   3008           00519         movlw   0x08
00D9   00AD           00520         movwf   RX_Rotate
                      00521         
00DA   0CAE           00522         RRF     RX_TempC, F
00DB   1C03           00523         btfss   STATUS, 0
00DC   0AB0           00524         incf    RX_CS, F        ; wenn kein C, dann NULL
00DD   0BAD           00525         decfsz  RX_Rotate, F
00DE   28DA           00526         goto    $-4
00DF   0008           00527         return
                      00528 
00E0                  00529 RS232_CS
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E0   082F           00530         movf    RX_Buffer, W
00E1   391F           00531         andlw   b'00011111'     ; mit 31 verunden (kann nur kleiner 25 sein!)
00E2   0630           00532         xorwf   RX_CS, W
00E3   1D03           00533         btfss   STATUS, 2       ; wenn Anz. Nullen = CS, Daten übernehmen
00E4   0008           00534         return
                      00535         
00E5   0831           00536         movf    SOLL_R, W
00E6   00BD           00537         movwf   COLOR_R
00E7   0832           00538         movf    SOLL_G, W
00E8   00BE           00539         movwf   COLOR_G
00E9   0833           00540         movf    SOLL_B, W
00EA   00BF           00541         movwf   COLOR_B
00EB   0008           00542         return  
                      00543         
                      00544 ;***************************************************************************************************
00EC                  00545 delay_100us
00EC   30D9           00546         movlw   d'217'
00ED   00FB           00547         movwf   7B
                      00548         
00EE   0064           00549         clrwdt
00EF   0000           00550         nop
                      00551         
00F0   0FFB           00552         incfsz  7B, F
00F1   28EE           00553         goto    $-3
                      00554 
00F2   0008           00555         return
                      00556 
                      00557 ;***************************************************************************************************
                      00558 ;***************************************************************************************************
02FF                  00559         org     2FF
                      00560 ;***************************************************************************************************
02FF                  00561 Tab_Wert
02FF   0782           00562         addwf   PCL, F
0300   3410           00563         retlw   d'16'   ; 0
0301   3410           00564         retlw   d'16'   ; 1
0302   3411           00565         retlw   d'17'   ; 2
0303   3412           00566         retlw   d'18'   ; 3
0304   3413           00567         retlw   d'19'   ; 4
0305   3414           00568         retlw   d'20'   ; 5
0306   3415           00569         retlw   d'21'   ; 6
0307   3416           00570         retlw   d'22'   ; 7
0308   3417           00571         retlw   d'23'   ; 8
0309   3418           00572         retlw   d'24'   ; 9
030A   3419           00573         retlw   d'25'   ; 10
030B   341A           00574         retlw   d'26'   ; 11
030C   341B           00575         retlw   d'27'   ; 12
030D   341C           00576         retlw   d'28'   ; 13
030E   341D           00577         retlw   d'29'   ; 14
030F   341E           00578         retlw   d'30'   ; 15
0310   341F           00579         retlw   d'31'   ; 16
0311   341F           00580         retlw   d'31'   ; 17
0312   3420           00581         retlw   d'32'   ; 18
0313   3421           00582         retlw   d'33'   ; 19
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0314   3422           00583         retlw   d'34'   ; 20
0315   3423           00584         retlw   d'35'   ; 21
0316   3424           00585         retlw   d'36'   ; 22
0317   3425           00586         retlw   d'37'   ; 23
0318   3426           00587         retlw   d'38'   ; 24
0319   3427           00588         retlw   d'39'   ; 25
031A   3428           00589         retlw   d'40'   ; 26
031B   3429           00590         retlw   d'41'   ; 27
031C   342A           00591         retlw   d'42'   ; 28
031D   342B           00592         retlw   d'43'   ; 29
031E   342C           00593         retlw   d'44'   ; 30
031F   342D           00594         retlw   d'45'   ; 31
0320   342E           00595         retlw   d'46'   ; 32
0321   342E           00596         retlw   d'46'   ; 33
0322   342F           00597         retlw   d'47'   ; 34
0323   3430           00598         retlw   d'48'   ; 35
0324   3431           00599         retlw   d'49'   ; 36
0325   3432           00600         retlw   d'50'   ; 37
0326   3433           00601         retlw   d'51'   ; 38
0327   3434           00602         retlw   d'52'   ; 39
0328   3435           00603         retlw   d'53'   ; 40
0329   3436           00604         retlw   d'54'   ; 41
032A   3437           00605         retlw   d'55'   ; 42
032B   3438           00606         retlw   d'56'   ; 43
032C   3439           00607         retlw   d'57'   ; 44
032D   343A           00608         retlw   d'58'   ; 45
032E   343B           00609         retlw   d'59'   ; 46
032F   343C           00610         retlw   d'60'   ; 47
0330   343D           00611         retlw   d'61'   ; 48
0331   343D           00612         retlw   d'61'   ; 49
0332   343E           00613         retlw   d'62'   ; 50
0333   343F           00614         retlw   d'63'   ; 51
0334   3440           00615         retlw   d'64'   ; 52
0335   3441           00616         retlw   d'65'   ; 53
0336   3442           00617         retlw   d'66'   ; 54
0337   3443           00618         retlw   d'67'   ; 55
0338   3444           00619         retlw   d'68'   ; 56
0339   3445           00620         retlw   d'69'   ; 57
033A   3446           00621         retlw   d'70'   ; 58
033B   3447           00622         retlw   d'71'   ; 59
033C   3448           00623         retlw   d'72'   ; 60
033D   3449           00624         retlw   d'73'   ; 61
033E   344A           00625         retlw   d'74'   ; 62
033F   344B           00626         retlw   d'75'   ; 63
0340   344C           00627         retlw   d'76'   ; 64
0341   344C           00628         retlw   d'76'   ; 65
0342   344D           00629         retlw   d'77'   ; 66
0343   344E           00630         retlw   d'78'   ; 67
0344   344F           00631         retlw   d'79'   ; 68
0345   3450           00632         retlw   d'80'   ; 69
0346   3451           00633         retlw   d'81'   ; 70
0347   3452           00634         retlw   d'82'   ; 71
0348   3453           00635         retlw   d'83'   ; 72
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0349   3454           00636         retlw   d'84'   ; 73
034A   3455           00637         retlw   d'85'   ; 74
034B   3456           00638         retlw   d'86'   ; 75
034C   3457           00639         retlw   d'87'   ; 76
034D   3458           00640         retlw   d'88'   ; 77
034E   3459           00641         retlw   d'89'   ; 78
034F   345A           00642         retlw   d'90'   ; 79
0350   345B           00643         retlw   d'91'   ; 80
0351   345B           00644         retlw   d'91'   ; 81
0352   345C           00645         retlw   d'92'   ; 82
0353   345D           00646         retlw   d'93'   ; 83
0354   345E           00647         retlw   d'94'   ; 84
0355   345F           00648         retlw   d'95'   ; 85
0356   3460           00649         retlw   d'96'   ; 86
0357   3461           00650         retlw   d'97'   ; 87
0358   3462           00651         retlw   d'98'   ; 88
0359   3463           00652         retlw   d'99'   ; 89
035A   3464           00653         retlw   d'100'  ; 90
035B   3465           00654         retlw   d'101'  ; 91
035C   3466           00655         retlw   d'102'  ; 92
035D   3467           00656         retlw   d'103'  ; 93
035E   3468           00657         retlw   d'104'  ; 94
035F   3469           00658         retlw   d'105'  ; 95
0360   346A           00659         retlw   d'106'  ; 96
0361   346A           00660         retlw   d'106'  ; 97
0362   346B           00661         retlw   d'107'  ; 98
0363   346C           00662         retlw   d'108'  ; 99
0364   346D           00663         retlw   d'109'  ; 100
0365   346E           00664         retlw   d'110'  ; 101
0366   346F           00665         retlw   d'111'  ; 102
0367   3470           00666         retlw   d'112'  ; 103
0368   3471           00667         retlw   d'113'  ; 104
0369   3472           00668         retlw   d'114'  ; 105
036A   3473           00669         retlw   d'115'  ; 106
036B   3474           00670         retlw   d'116'  ; 107
036C   3475           00671         retlw   d'117'  ; 108
036D   3476           00672         retlw   d'118'  ; 109
036E   3477           00673         retlw   d'119'  ; 110
036F   3478           00674         retlw   d'120'  ; 111
0370   3479           00675         retlw   d'121'  ; 112
0371   3479           00676         retlw   d'121'  ; 113
0372   347A           00677         retlw   d'122'  ; 114
0373   347B           00678         retlw   d'123'  ; 115
0374   347C           00679         retlw   d'124'  ; 116
0375   347D           00680         retlw   d'125'  ; 117
0376   347E           00681         retlw   d'126'  ; 118
0377   347F           00682         retlw   d'127'  ; 119
0378   3480           00683         retlw   d'128'  ; 120
0379   3481           00684         retlw   d'129'  ; 121
037A   3482           00685         retlw   d'130'  ; 122
037B   3483           00686         retlw   d'131'  ; 123
037C   3484           00687         retlw   d'132'  ; 124
037D   3485           00688         retlw   d'133'  ; 125
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

037E   3486           00689         retlw   d'134'  ; 126
037F   3487           00690         retlw   d'135'  ; 127
0380   3488           00691         retlw   d'136'  ; 128
0381   3488           00692         retlw   d'136'  ; 129
0382   3489           00693         retlw   d'137'  ; 130
0383   348A           00694         retlw   d'138'  ; 131
0384   348B           00695         retlw   d'139'  ; 132
0385   348C           00696         retlw   d'140'  ; 133
0386   348D           00697         retlw   d'141'  ; 134
0387   348E           00698         retlw   d'142'  ; 135
0388   348F           00699         retlw   d'143'  ; 136
0389   3490           00700         retlw   d'144'  ; 137
038A   3491           00701         retlw   d'145'  ; 138
038B   3492           00702         retlw   d'146'  ; 139
038C   3493           00703         retlw   d'147'  ; 140
038D   3494           00704         retlw   d'148'  ; 141
038E   3495           00705         retlw   d'149'  ; 142
038F   3496           00706         retlw   d'150'  ; 143
0390   3497           00707         retlw   d'151'  ; 144
0391   3497           00708         retlw   d'151'  ; 145
0392   3498           00709         retlw   d'152'  ; 146
0393   3499           00710         retlw   d'153'  ; 147
0394   349A           00711         retlw   d'154'  ; 148
0395   349B           00712         retlw   d'155'  ; 149
0396   349C           00713         retlw   d'156'  ; 150
0397   349D           00714         retlw   d'157'  ; 151
0398   349E           00715         retlw   d'158'  ; 152
0399   349F           00716         retlw   d'159'  ; 153
039A   34A0           00717         retlw   d'160'  ; 154
039B   34A1           00718         retlw   d'161'  ; 155
039C   34A2           00719         retlw   d'162'  ; 156
039D   34A3           00720         retlw   d'163'  ; 157
039E   34A4           00721         retlw   d'164'  ; 158
039F   34A5           00722         retlw   d'165'  ; 159
03A0   34A6           00723         retlw   d'166'  ; 160
03A1   34A6           00724         retlw   d'166'  ; 161
03A2   34A7           00725         retlw   d'167'  ; 162
03A3   34A8           00726         retlw   d'168'  ; 163
03A4   34A9           00727         retlw   d'169'  ; 164
03A5   34AA           00728         retlw   d'170'  ; 165
03A6   34AB           00729         retlw   d'171'  ; 166
03A7   34AC           00730         retlw   d'172'  ; 167
03A8   34AD           00731         retlw   d'173'  ; 168
03A9   34AE           00732         retlw   d'174'  ; 169
03AA   34AF           00733         retlw   d'175'  ; 170
03AB   34B0           00734         retlw   d'176'  ; 171
03AC   34B1           00735         retlw   d'177'  ; 172
03AD   34B2           00736         retlw   d'178'  ; 173
03AE   34B3           00737         retlw   d'179'  ; 174
03AF   34B4           00738         retlw   d'180'  ; 175
03B0   34B5           00739         retlw   d'181'  ; 176
03B1   34B5           00740         retlw   d'181'  ; 177
03B2   34B6           00741         retlw   d'182'  ; 178
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03B3   34B7           00742         retlw   d'183'  ; 179
03B4   34B8           00743         retlw   d'184'  ; 180
03B5   34B9           00744         retlw   d'185'  ; 181
03B6   34BA           00745         retlw   d'186'  ; 182
03B7   34BB           00746         retlw   d'187'  ; 183
03B8   34BC           00747         retlw   d'188'  ; 184
03B9   34BD           00748         retlw   d'189'  ; 185
03BA   34BE           00749         retlw   d'190'  ; 186
03BB   34BF           00750         retlw   d'191'  ; 187
03BC   34C0           00751         retlw   d'192'  ; 188
03BD   34C1           00752         retlw   d'193'  ; 189
03BE   34C2           00753         retlw   d'194'  ; 190
03BF   34C3           00754         retlw   d'195'  ; 191
03C0   34C4           00755         retlw   d'196'  ; 192
03C1   34C4           00756         retlw   d'196'  ; 193
03C2   34C5           00757         retlw   d'197'  ; 194
03C3   34C6           00758         retlw   d'198'  ; 195
03C4   34C7           00759         retlw   d'199'  ; 196
03C5   34C8           00760         retlw   d'200'  ; 197
03C6   34C9           00761         retlw   d'201'  ; 198
03C7   34CA           00762         retlw   d'202'  ; 199
03C8   34CB           00763         retlw   d'203'  ; 200
03C9   34CC           00764         retlw   d'204'  ; 201
03CA   34CD           00765         retlw   d'205'  ; 202
03CB   34CE           00766         retlw   d'206'  ; 203
03CC   34CF           00767         retlw   d'207'  ; 204
03CD   34D0           00768         retlw   d'208'  ; 205
03CE   34D1           00769         retlw   d'209'  ; 206
03CF   34D2           00770         retlw   d'210'  ; 207
03D0   34D3           00771         retlw   d'211'  ; 208
03D1   34D3           00772         retlw   d'211'  ; 209
03D2   34D4           00773         retlw   d'212'  ; 210
03D3   34D5           00774         retlw   d'213'  ; 211
03D4   34D6           00775         retlw   d'214'  ; 212
03D5   34D7           00776         retlw   d'215'  ; 213
03D6   34D8           00777         retlw   d'216'  ; 214
03D7   34D9           00778         retlw   d'217'  ; 215
03D8   34DA           00779         retlw   d'218'  ; 216
03D9   34DB           00780         retlw   d'219'  ; 217
03DA   34DC           00781         retlw   d'220'  ; 218
03DB   34DD           00782         retlw   d'221'  ; 219
03DC   34DE           00783         retlw   d'222'  ; 220
03DD   34DF           00784         retlw   d'223'  ; 221
03DE   34E0           00785         retlw   d'224'  ; 222
03DF   34E1           00786         retlw   d'225'  ; 223
03E0   34E2           00787         retlw   d'226'  ; 224
03E1   34E2           00788         retlw   d'226'  ; 225
03E2   34E3           00789         retlw   d'227'  ; 226
03E3   34E4           00790         retlw   d'228'  ; 227
03E4   34E5           00791         retlw   d'229'  ; 228
03E5   34E6           00792         retlw   d'230'  ; 229
03E6   34E7           00793         retlw   d'231'  ; 230
03E7   34E8           00794         retlw   d'232'  ; 231
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

03E8   34E9           00795         retlw   d'233'  ; 232
03E9   34EA           00796         retlw   d'234'  ; 233
03EA   34EB           00797         retlw   d'235'  ; 234
03EB   34EC           00798         retlw   d'236'  ; 235
03EC   34ED           00799         retlw   d'237'  ; 236
03ED   34EE           00800         retlw   d'238'  ; 237
03EE   34EF           00801         retlw   d'239'  ; 238
03EF   34F0           00802         retlw   d'240'  ; 239
03F0   34F1           00803         retlw   d'241'  ; 240
03F1   34F1           00804         retlw   d'241'  ; 241
03F2   34F2           00805         retlw   d'242'  ; 242
03F3   34F3           00806         retlw   d'243'  ; 243
03F4   34F4           00807         retlw   d'244'  ; 244
03F5   34F5           00808         retlw   d'245'  ; 245
03F6   34F6           00809         retlw   d'246'  ; 246
03F7   34F7           00810         retlw   d'247'  ; 247
03F8   34F8           00811         retlw   d'248'  ; 248
03F9   34F9           00812         retlw   d'249'  ; 249
03FA   34FA           00813         retlw   d'250'  ; 250
03FB   34FB           00814         retlw   d'251'  ; 251
03FC   34FC           00815         retlw   d'252'  ; 252
03FD   34FD           00816         retlw   d'253'  ; 253
03FE   34FE           00817         retlw   d'254'  ; 254
03FF   34FF           00818         retlw   d'255'  ; 255
                      00819 
                      00820 ;***************************************************************************************************
                      00821 ;***************************************************************************************************
04FF                  00822         org     4FF
                      00823 ;***************************************************************************************************
04FF                  00824 Tab_Timer
04FF   0782           00825         addwf   PCL, F
                      00826         
0500   3400           00827         retlw   d'0'    ; 0
0501   3401           00828         retlw   d'1'    ; 1
0502   3402           00829         retlw   d'2'    ; 2
0503   3403           00830         retlw   d'3'    ; 3
0504   3404           00831         retlw   d'4'    ; 4
0505   3404           00832         retlw   d'4'    ; 5
0506   3405           00833         retlw   d'5'    ; 6
0507   3406           00834         retlw   d'6'    ; 7
0508   3407           00835         retlw   d'7'    ; 8
0509   3408           00836         retlw   d'8'    ; 9
050A   3408           00837         retlw   d'8'    ; 10
050B   3409           00838         retlw   d'9'    ; 11
050C   340A           00839         retlw   d'10'   ; 12
050D   340B           00840         retlw   d'11'   ; 13
050E   340C           00841         retlw   d'12'   ; 14
050F   340D           00842         retlw   d'13'   ; 15
0510   340D           00843         retlw   d'13'   ; 16
0511   340E           00844         retlw   d'14'   ; 17
0512   340F           00845         retlw   d'15'   ; 18
0513   3410           00846         retlw   d'16'   ; 19
0514   3411           00847         retlw   d'17'   ; 20
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0515   3411           00848         retlw   d'17'   ; 21
0516   3412           00849         retlw   d'18'   ; 22
0517   3413           00850         retlw   d'19'   ; 23
0518   3414           00851         retlw   d'20'   ; 24
0519   3415           00852         retlw   d'21'   ; 25
051A   3415           00853         retlw   d'21'   ; 26
051B   3416           00854         retlw   d'22'   ; 27
051C   3417           00855         retlw   d'23'   ; 28
051D   3418           00856         retlw   d'24'   ; 29
051E   3419           00857         retlw   d'25'   ; 30
051F   341A           00858         retlw   d'26'   ; 31
0520   341A           00859         retlw   d'26'   ; 32
0521   341B           00860         retlw   d'27'   ; 33
0522   341C           00861         retlw   d'28'   ; 34
0523   341D           00862         retlw   d'29'   ; 35
0524   341E           00863         retlw   d'30'   ; 36
0525   341E           00864         retlw   d'30'   ; 37
0526   341F           00865         retlw   d'31'   ; 38
0527   3420           00866         retlw   d'32'   ; 39
0528   3421           00867         retlw   d'33'   ; 40
0529   3422           00868         retlw   d'34'   ; 41
052A   3422           00869         retlw   d'34'   ; 42
052B   3423           00870         retlw   d'35'   ; 43
052C   3424           00871         retlw   d'36'   ; 44
052D   3425           00872         retlw   d'37'   ; 45
052E   3426           00873         retlw   d'38'   ; 46
052F   3427           00874         retlw   d'39'   ; 47
0530   3427           00875         retlw   d'39'   ; 48
0531   3428           00876         retlw   d'40'   ; 49
0532   3429           00877         retlw   d'41'   ; 50
0533   342A           00878         retlw   d'42'   ; 51
0534   342B           00879         retlw   d'43'   ; 52
0535   342B           00880         retlw   d'43'   ; 53
0536   342C           00881         retlw   d'44'   ; 54
0537   342D           00882         retlw   d'45'   ; 55
0538   342E           00883         retlw   d'46'   ; 56
0539   342F           00884         retlw   d'47'   ; 57
053A   342F           00885         retlw   d'47'   ; 58
053B   3430           00886         retlw   d'48'   ; 59
053C   3431           00887         retlw   d'49'   ; 60
053D   3432           00888         retlw   d'50'   ; 61
053E   3433           00889         retlw   d'51'   ; 62
053F   3434           00890         retlw   d'52'   ; 63
0540   3434           00891         retlw   d'52'   ; 64
0541   3435           00892         retlw   d'53'   ; 65
0542   3436           00893         retlw   d'54'   ; 66
0543   3437           00894         retlw   d'55'   ; 67
0544   3438           00895         retlw   d'56'   ; 68
0545   3438           00896         retlw   d'56'   ; 69
0546   3439           00897         retlw   d'57'   ; 70
0547   343A           00898         retlw   d'58'   ; 71
0548   343B           00899         retlw   d'59'   ; 72
0549   343C           00900         retlw   d'60'   ; 73
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

054A   343C           00901         retlw   d'60'   ; 74
054B   343D           00902         retlw   d'61'   ; 75
054C   343E           00903         retlw   d'62'   ; 76
054D   343F           00904         retlw   d'63'   ; 77
054E   3440           00905         retlw   d'64'   ; 78
054F   3441           00906         retlw   d'65'   ; 79
0550   3441           00907         retlw   d'65'   ; 80
0551   3442           00908         retlw   d'66'   ; 81
0552   3443           00909         retlw   d'67'   ; 82
0553   3444           00910         retlw   d'68'   ; 83
0554   3445           00911         retlw   d'69'   ; 84
0555   3445           00912         retlw   d'69'   ; 85
0556   3446           00913         retlw   d'70'   ; 86
0557   3447           00914         retlw   d'71'   ; 87
0558   3448           00915         retlw   d'72'   ; 88
0559   3449           00916         retlw   d'73'   ; 89
055A   3449           00917         retlw   d'73'   ; 90
055B   344A           00918         retlw   d'74'   ; 91
055C   344B           00919         retlw   d'75'   ; 92
055D   344C           00920         retlw   d'76'   ; 93
055E   344D           00921         retlw   d'77'   ; 94
055F   344E           00922         retlw   d'78'   ; 95
0560   344E           00923         retlw   d'78'   ; 96
0561   344F           00924         retlw   d'79'   ; 97
0562   3450           00925         retlw   d'80'   ; 98
0563   3451           00926         retlw   d'81'   ; 99
0564   3452           00927         retlw   d'82'   ; 100
0565   3452           00928         retlw   d'82'   ; 101
0566   3453           00929         retlw   d'83'   ; 102
0567   3454           00930         retlw   d'84'   ; 103
0568   3455           00931         retlw   d'85'   ; 104
0569   3456           00932         retlw   d'86'   ; 105
056A   3456           00933         retlw   d'86'   ; 106
056B   3457           00934         retlw   d'87'   ; 107
056C   3458           00935         retlw   d'88'   ; 108
056D   3459           00936         retlw   d'89'   ; 109
056E   345A           00937         retlw   d'90'   ; 110
056F   345B           00938         retlw   d'91'   ; 111
0570   345B           00939         retlw   d'91'   ; 112
0571   345C           00940         retlw   d'92'   ; 113
0572   345D           00941         retlw   d'93'   ; 114
0573   345E           00942         retlw   d'94'   ; 115
0574   345F           00943         retlw   d'95'   ; 116
0575   345F           00944         retlw   d'95'   ; 117
0576   3460           00945         retlw   d'96'   ; 118
0577   3461           00946         retlw   d'97'   ; 119
0578   3462           00947         retlw   d'98'   ; 120
0579   3463           00948         retlw   d'99'   ; 121
057A   3463           00949         retlw   d'99'   ; 122
057B   3464           00950         retlw   d'100'  ; 123
057C   3465           00951         retlw   d'101'  ; 124
057D   3466           00952         retlw   d'102'  ; 125
057E   3467           00953         retlw   d'103'  ; 126
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

057F   3468           00954         retlw   d'104'  ; 127
0580   3468           00955         retlw   d'104'  ; 128
0581   3469           00956         retlw   d'105'  ; 129
0582   346A           00957         retlw   d'106'  ; 130
0583   346B           00958         retlw   d'107'  ; 131
0584   346C           00959         retlw   d'108'  ; 132
0585   346C           00960         retlw   d'108'  ; 133
0586   346D           00961         retlw   d'109'  ; 134
0587   346E           00962         retlw   d'110'  ; 135
0588   346F           00963         retlw   d'111'  ; 136
0589   3470           00964         retlw   d'112'  ; 137
058A   3470           00965         retlw   d'112'  ; 138
058B   3471           00966         retlw   d'113'  ; 139
058C   3472           00967         retlw   d'114'  ; 140
058D   3473           00968         retlw   d'115'  ; 141
058E   3474           00969         retlw   d'116'  ; 142
058F   3475           00970         retlw   d'117'  ; 143
0590   3475           00971         retlw   d'117'  ; 144
0591   3476           00972         retlw   d'118'  ; 145
0592   3477           00973         retlw   d'119'  ; 146
0593   3478           00974         retlw   d'120'  ; 147
0594   3479           00975         retlw   d'121'  ; 148
0595   3479           00976         retlw   d'121'  ; 149
0596   347A           00977         retlw   d'122'  ; 150
0597   347B           00978         retlw   d'123'  ; 151
0598   347C           00979         retlw   d'124'  ; 152
0599   347D           00980         retlw   d'125'  ; 153
059A   347D           00981         retlw   d'125'  ; 154
059B   347E           00982         retlw   d'126'  ; 155
059C   347F           00983         retlw   d'127'  ; 156
059D   3480           00984         retlw   d'128'  ; 157
059E   3481           00985         retlw   d'129'  ; 158
059F   3482           00986         retlw   d'130'  ; 159
05A0   3482           00987         retlw   d'130'  ; 160
05A1   3483           00988         retlw   d'131'  ; 161
05A2   3484           00989         retlw   d'132'  ; 162
05A3   3485           00990         retlw   d'133'  ; 163
05A4   3486           00991         retlw   d'134'  ; 164
05A5   3486           00992         retlw   d'134'  ; 165
05A6   3487           00993         retlw   d'135'  ; 166
05A7   3488           00994         retlw   d'136'  ; 167
05A8   3489           00995         retlw   d'137'  ; 168
05A9   348A           00996         retlw   d'138'  ; 169
05AA   348A           00997         retlw   d'138'  ; 170
05AB   348B           00998         retlw   d'139'  ; 171
05AC   348C           00999         retlw   d'140'  ; 172
05AD   348D           01000         retlw   d'141'  ; 173
05AE   348E           01001         retlw   d'142'  ; 174
05AF   348F           01002         retlw   d'143'  ; 175
05B0   348F           01003         retlw   d'143'  ; 176
05B1   3490           01004         retlw   d'144'  ; 177
05B2   3491           01005         retlw   d'145'  ; 178
05B3   3492           01006         retlw   d'146'  ; 179
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05B4   3493           01007         retlw   d'147'  ; 180
05B5   3493           01008         retlw   d'147'  ; 181
05B6   3494           01009         retlw   d'148'  ; 182
05B7   3495           01010         retlw   d'149'  ; 183
05B8   3496           01011         retlw   d'150'  ; 184
05B9   3497           01012         retlw   d'151'  ; 185
05BA   3497           01013         retlw   d'151'  ; 186
05BB   3498           01014         retlw   d'152'  ; 187
05BC   3499           01015         retlw   d'153'  ; 188
05BD   349A           01016         retlw   d'154'  ; 189
05BE   349B           01017         retlw   d'155'  ; 190
05BF   349C           01018         retlw   d'156'  ; 191
05C0   349C           01019         retlw   d'156'  ; 192
05C1   349D           01020         retlw   d'157'  ; 193
05C2   349E           01021         retlw   d'158'  ; 194
05C3   349F           01022         retlw   d'159'  ; 195
05C4   34A0           01023         retlw   d'160'  ; 196
05C5   34A0           01024         retlw   d'160'  ; 197
05C6   34A1           01025         retlw   d'161'  ; 198
05C7   34A2           01026         retlw   d'162'  ; 199
05C8   34A3           01027         retlw   d'163'  ; 200
05C9   34A4           01028         retlw   d'164'  ; 201
05CA   34A4           01029         retlw   d'164'  ; 202
05CB   34A5           01030         retlw   d'165'  ; 203
05CC   34A6           01031         retlw   d'166'  ; 204
05CD   34A7           01032         retlw   d'167'  ; 205
05CE   34A8           01033         retlw   d'168'  ; 206
05CF   34A9           01034         retlw   d'169'  ; 207
05D0   34A9           01035         retlw   d'169'  ; 208
05D1   34AA           01036         retlw   d'170'  ; 209
05D2   34AB           01037         retlw   d'171'  ; 210
05D3   34AC           01038         retlw   d'172'  ; 211
05D4   34AD           01039         retlw   d'173'  ; 212
05D5   34AD           01040         retlw   d'173'  ; 213
05D6   34AE           01041         retlw   d'174'  ; 214
05D7   34AF           01042         retlw   d'175'  ; 215
05D8   34B0           01043         retlw   d'176'  ; 216
05D9   34B1           01044         retlw   d'177'  ; 217
05DA   34B1           01045         retlw   d'177'  ; 218
05DB   34B2           01046         retlw   d'178'  ; 219
05DC   34B3           01047         retlw   d'179'  ; 220
05DD   34B4           01048         retlw   d'180'  ; 221
05DE   34B5           01049         retlw   d'181'  ; 222
05DF   34B6           01050         retlw   d'182'  ; 223
05E0   34B6           01051         retlw   d'182'  ; 224
05E1   34B7           01052         retlw   d'183'  ; 225
05E2   34B8           01053         retlw   d'184'  ; 226
05E3   34B9           01054         retlw   d'185'  ; 227
05E4   34BA           01055         retlw   d'186'  ; 228
05E5   34BA           01056         retlw   d'186'  ; 229
05E6   34BB           01057         retlw   d'187'  ; 230
05E7   34BC           01058         retlw   d'188'  ; 231
05E8   34BD           01059         retlw   d'189'  ; 232
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

05E9   34BE           01060         retlw   d'190'  ; 233
05EA   34BE           01061         retlw   d'190'  ; 234
05EB   34BF           01062         retlw   d'191'  ; 235
05EC   34C0           01063         retlw   d'192'  ; 236
05ED   34C1           01064         retlw   d'193'  ; 237
05EE   34C2           01065         retlw   d'194'  ; 238
05EF   34C3           01066         retlw   d'195'  ; 239
05F0   34C3           01067         retlw   d'195'  ; 240
05F1   34C4           01068         retlw   d'196'  ; 241
05F2   34C5           01069         retlw   d'197'  ; 242
05F3   34C6           01070         retlw   d'198'  ; 243
05F4   34C7           01071         retlw   d'199'  ; 244
05F5   34C7           01072         retlw   d'199'  ; 245
05F6   34C8           01073         retlw   d'200'  ; 246
05F7   34C9           01074         retlw   d'201'  ; 247
05F8   34CA           01075         retlw   d'202'  ; 248
05F9   34CB           01076         retlw   d'203'  ; 249
05FA   34CB           01077         retlw   d'203'  ; 250
05FB   34CC           01078         retlw   d'204'  ; 251
05FC   34CD           01079         retlw   d'205'  ; 252
05FD   34CE           01080         retlw   d'206'  ; 253
05FE   34CF           01081         retlw   d'207'  ; 254
05FF   34D0           01082         retlw   d'208'  ; 255
                      01083 
                      01084 ;***************************************************************************************************
                      01085 ;***************************************************************************************************
                      01086 ;***************************************************************************************************
                      01087 ;***************************************************************************************************
                      01088         END
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

ADCON0                            1F
ADCON1                            1F
ADRESH                            1E
ANSEL                             1B
BEFEHL                            34
BOISR                             00000008
CMCON                             1C
COLOR_B                           3F
COLOR_G                           3E
COLOR_R                           3D
Count_H                           25
Count_L                           24
CounterT                          76
CounterWert                       77
DEV_Adr                           22
EOISR                             00000024
F                                 01
FSR                               04
H_Stellwert                       72
Hilfs_RegH                        28
Hilfs_RegL                        27
INTCON                            0B
Int_Frei                          78
ON_Time                           20
OSCCON                            0F
OSCTUNE                           10
PCL                               02
PCLATH                            0A
PCLATH_TEMP                       7F
PIE1                              0C
PIE2                              0D
PIR1                              0C
PIR2                              0D
PORTA                             05
PORTB                             06
PWM                               79
RCREG                             1A
RCSTA                             18
RGB_Wert                          71
RS232                             000000A4
RS232_Addr                        000000C5
RS232_Adr                         000000C7
RS232_CS                          000000E0
RS232_Nullen                      000000D3
RX_Buffer                         2F
RX_CS                             30
RX_Rotate                         2D
RX_Status                         26
RX_TempC                          2E
SOLL_B                            33
SOLL_G                            32
SOLL_R                            31
STATUS                            03
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 23


SYMBOL TABLE
  LABEL                             VALUE 

STATUS_TEMP                       7E
StartTime                         d'208'
StellWert                         74
Stell_HW                          73
T1CON                             10
TEMP_B                            37
TEMP_G                            36
TEMP_G1                           39
TEMP_G2                           3A
TEMP_R                            35
TEMP_R1                           38
TMR0                              01
TMR0_ISR                          00000013
TMR0_ISRn                         0000001A
TMR1H                             0F
TMR1L                             0E
TMR_0                             23
TXREG                             19
TXSTA                             18
Tab_Timer                         000004FF
Tab_Wert                          000002FF
W                                 00
W_TEMP                            7D
_CONFIG1                          00002007
_CONFIG2                          00002008
__16F88                           00000001
delay_100us                       000000EC
main                              0000007E
main_Stell                        0000008F
start                             00000029


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXX-XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXX-------------
02C0 : ---------------- ---------------- ---------------- ---------------X
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : ---------------- ---------------- ---------------- ---------------X
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
MPASM  5.02                          3581.ASM   7-18-2006  13:11:09         PAGE 24


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)


0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
2000 : XXXX---XX------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   756
Program Memory Words Free:  3340


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

